function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function a(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c;function u(t,...n){if(null==t){for(const e of n)e(void 0);return e}const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}const l="undefined"!=typeof window;let d=l?()=>window.performance.now():()=>Date.now(),p=l?e=>requestAnimationFrame(e):e;const f=new Set;function m(e){f.forEach((t=>{t.c(e)||(f.delete(t),t.f())})),0!==f.size&&p(m)}function y(e){let t;return 0===f.size&&p(m),{promise:new Promise((n=>{f.add(t={c:e,f:n})})),abort(){f.delete(t)}}}function b(e,t){e.appendChild(t)}function h(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function g(e){const t=T("style");return t.textContent="/* empty */",function(e,t){b(e.head||e,t),t.sheet}(h(e),t),t.sheet}function w(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function x(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(e){return document.createElement(e)}function P(e){return document.createTextNode(e)}function E(){return P(" ")}function $(){return P("")}function B(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function I(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}function O(e,t){e.value=null==t?"":t}function A(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function N(e,t){return new e(t)}const j=new Map;let F,S=0;function M(e,t,n,r,a,i,s,o=0){const c=16.666/r;let u="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*i(e);u+=100*e+`%{${s(r,1-r)}}\n`}const l=u+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(l)}_${o}`,p=h(e),{stylesheet:f,rules:m}=j.get(p)||function(e,t){const n={stylesheet:g(t),rules:{}};return j.set(e,n),n}(p,e);m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${l}`,f.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${d} ${r}ms linear ${a}ms 1 both`,S+=1,d}function C(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),a=n.length-r.length;a&&(e.style.animation=r.join(", "),S-=a,S||p((()=>{S||(j.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&v(t)})),j.clear())})))}function z(e){F=e}function R(){if(!F)throw new Error("Function called outside component initialization");return F}function _(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const D=[],U=[];let L=[];const G=[],q=Promise.resolve();let H=!1;function V(){H||(H=!0,q.then(J))}function Z(e){L.push(e)}const W=new Set;let K,Y=0;function J(){if(0!==Y)return;const e=F;do{try{for(;Y<D.length;){const e=D[Y];Y++,z(e),X(e.$$)}}catch(e){throw D.length=0,Y=0,e}for(z(null),D.length=0,Y=0;U.length;)U.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];W.has(t)||(W.add(t),t())}L.length=0}while(D.length);for(;G.length;)G.pop()();H=!1,W.clear(),z(e)}function X(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}function Q(){return K||(K=Promise.resolve(),K.then((()=>{K=null}))),K}function ee(e,t,n){e.dispatchEvent(A(`${t?"intro":"outro"}${n}`))}const te=new Set;let ne;function re(){ne={r:0,c:[],p:ne}}function ae(){ne.r||i(ne.c),ne=ne.p}function ie(e,t){e&&e.i&&(te.delete(e),e.i(t))}function se(e,t,n,r){if(e&&e.o){if(te.has(e))return;te.add(e),ne.c.push((()=>{te.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const oe={duration:0};function ce(e){return void 0!==e?.length?e:Array.from(e)}function ue(e,t){const n={},r={},a={$$scope:1};let i=e.length;for(;i--;){const s=e[i],o=t[i];if(o){for(const e in s)e in o||(r[e]=1);for(const e in o)a[e]||(n[e]=o[e],a[e]=1);e[i]=o}else for(const e in s)a[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function le(e){return"object"==typeof e&&null!==e?e:{}}function de(e){e&&e.c()}function pe(e,t,n){const{fragment:a,after_update:o}=e.$$;a&&a.m(t,n),Z((()=>{const t=e.$$.on_mount.map(r).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),o.forEach(Z)}function fe(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];L.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),L=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function me(t,n,r,s,o,c,u=null,l=[-1]){const d=F;z(t);const p=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:o,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:a(),dirty:l,skip_bound:!1,root:n.target||d.$$.root};u&&u(p.root);let f=!1;if(p.ctx=r?r(t,n.props||{},((e,n,...r)=>{const a=r.length?r[0]:n;return p.ctx&&o(p.ctx[e],p.ctx[e]=a)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](a),f&&function(e,t){-1===e.$$.dirty[0]&&(D.push(e),V(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],p.update(),f=!0,i(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(v)}else p.fragment&&p.fragment.c();n.intro&&ie(t.$$.fragment),pe(t,n.target,n.anchor),J()}z(d)}class ye{$$=void 0;$$set=void 0;$destroy(){fe(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const be=[];function he(e,t){return{subscribe:ge(e,t).subscribe}}function ge(t,n=e){let r;const a=new Set;function i(e){if(o(t,e)&&(t=e,r)){const e=!be.length;for(const e of a)e[1](),be.push(e,t);if(e){for(let e=0;e<be.length;e+=2)be[e][0](be[e+1]);be.length=0}}}function s(e){i(e(t))}return{set:i,update:s,subscribe:function(o,c=e){const u=[o,c];return a.add(u),1===a.size&&(r=n(i,s)||e),o(t),()=>{a.delete(u),0===a.size&&r&&(r(),r=null)}}}}function we(t,n,r){const a=!Array.isArray(t),o=a?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=n.length<2;return he(r,((t,r)=>{let l=!1;const d=[];let p=0,f=e;const m=()=>{if(p)return;f();const i=n(a?d[0]:d,t,r);c?t(i):f=s(i)?i:e},y=o.map(((e,t)=>u(e,(e=>{d[t]=e,p&=~(1<<t),l&&m()}),(()=>{p|=1<<t}))));return l=!0,m(),function(){i(y),f(),l=!1}}))}function ve(e){let t,r,a;const i=[e[2]];var s=e[0];function o(e,t){let r={};for(let e=0;e<i.length;e+=1)r=n(r,i[e]);return void 0!==t&&4&t&&(r=n(r,ue(i,[le(e[2])]))),{props:r}}return s&&(t=N(s,o(e)),t.$on("routeEvent",e[7])),{c(){t&&de(t.$$.fragment),r=$()},m(e,n){t&&pe(t,e,n),w(e,r,n),a=!0},p(e,n){if(1&n&&s!==(s=e[0])){if(t){re();const e=t;se(e.$$.fragment,1,0,(()=>{fe(e,1)})),ae()}s?(t=N(s,o(e,n)),t.$on("routeEvent",e[7]),de(t.$$.fragment),ie(t.$$.fragment,1),pe(t,r.parentNode,r)):t=null}else if(s){const r=4&n?ue(i,[le(e[2])]):{};t.$set(r)}},i(e){a||(t&&ie(t.$$.fragment,e),a=!0)},o(e){t&&se(t.$$.fragment,e),a=!1},d(e){e&&v(r),t&&fe(t,e)}}}function xe(e){let t,r,a;const i=[{params:e[1]},e[2]];var s=e[0];function o(e,t){let r={};for(let e=0;e<i.length;e+=1)r=n(r,i[e]);return void 0!==t&&6&t&&(r=n(r,ue(i,[2&t&&{params:e[1]},4&t&&le(e[2])]))),{props:r}}return s&&(t=N(s,o(e)),t.$on("routeEvent",e[6])),{c(){t&&de(t.$$.fragment),r=$()},m(e,n){t&&pe(t,e,n),w(e,r,n),a=!0},p(e,n){if(1&n&&s!==(s=e[0])){if(t){re();const e=t;se(e.$$.fragment,1,0,(()=>{fe(e,1)})),ae()}s?(t=N(s,o(e,n)),t.$on("routeEvent",e[6]),de(t.$$.fragment),ie(t.$$.fragment,1),pe(t,r.parentNode,r)):t=null}else if(s){const r=6&n?ue(i,[2&n&&{params:e[1]},4&n&&le(e[2])]):{};t.$set(r)}},i(e){a||(t&&ie(t.$$.fragment,e),a=!0)},o(e){t&&se(t.$$.fragment,e),a=!1},d(e){e&&v(r),t&&fe(t,e)}}}function Te(e){let t,n,r,a;const i=[xe,ve],s=[];function o(e,t){return e[1]?0:1}return t=o(e),n=s[t]=i[t](e),{c(){n.c(),r=$()},m(e,n){s[t].m(e,n),w(e,r,n),a=!0},p(e,[a]){let c=t;t=o(e),t===c?s[t].p(e,a):(re(),se(s[c],1,1,(()=>{s[c]=null})),ae(),n=s[t],n?n.p(e,a):(n=s[t]=i[t](e),n.c()),ie(n,1),n.m(r.parentNode,r))},i(e){a||(ie(n),a=!0)},o(e){se(n),a=!1},d(e){e&&v(r),s[t].d(e)}}}function Pe(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ee=he(null,(function(e){e(Pe());const t=()=>{e(Pe())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));we(Ee,(e=>e.location)),we(Ee,(e=>e.querystring));const $e=ge(void 0);function Be(e,t,n){let{routes:r={}}=t,{prefix:a=""}=t,{restoreScrollState:i=!1}=t;class s{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,i,s=[],o="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)"*"===(n=a[0])?(s.push("wild"),o+="/(.*)"):":"===n?(r=a.indexOf("?",1),i=a.indexOf(".",1),s.push(a.substring(1,~r?r:~i?i:a.length)),o+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~r?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:s,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(e){if(a)if("string"==typeof a){if(!e.startsWith(a))return null;e=e.substr(a.length)||"/"}else if(a instanceof RegExp){const t=e.match(a);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(t[r+1]||"")||null}catch(e){n[this._keys[r]]=null}r++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const o=[];r instanceof Map?r.forEach(((e,t)=>{o.push(new s(t,e))})):Object.keys(r).forEach((e=>{o.push(new s(e,r[e]))}));let c=null,u=null,l={};const d=function(){const e=R();return(t,n,{cancelable:r=!1}={})=>{const a=e.$$.callbacks[t];if(a){const i=A(t,n,{cancelable:r});return a.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}();async function p(e,t){await(V(),q),d(e,t)}let f=null,m=null;var y;i&&(m=e=>{f=e.state&&(e.state.__svelte_spa_router_scrollY||e.state.__svelte_spa_router_scrollX)?e.state:null},window.addEventListener("popstate",m),y=()=>{var e;(e=f)?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)},R().$$.after_update.push(y));let b=null,h=null;const g=Ee.subscribe((async e=>{b=e;let t=0;for(;t<o.length;){const r=o[t].match(e.location);if(!r){t++;continue}const a={route:o[t].path,location:e.location,querystring:e.querystring,userData:o[t].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await o[t].checkConditions(a))return n(0,c=null),h=null,void p("conditionsFailed",a);p("routeLoading",Object.assign({},a));const i=o[t].component;if(h!=i){i.loading?(n(0,c=i.loading),h=i,n(1,u=i.loadingParams),n(2,l={}),p("routeLoaded",Object.assign({},a,{component:c,name:c.name,params:u}))):(n(0,c=null),h=null);const t=await i();if(e!=b)return;n(0,c=t&&t.default||t),h=i}return r&&"object"==typeof r&&Object.keys(r).length?n(1,u=r):n(1,u=null),n(2,l=o[t].props),void p("routeLoaded",Object.assign({},a,{component:c,name:c.name,params:u})).then((()=>{$e.set(u)}))}n(0,c=null),h=null,$e.set(void 0)}));return function(e){R().$$.on_destroy.push(e)}((()=>{g(),m&&window.removeEventListener("popstate",m)})),e.$$set=e=>{"routes"in e&&n(3,r=e.routes),"prefix"in e&&n(4,a=e.prefix),"restoreScrollState"in e&&n(5,i=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=i?"manual":"auto")},[c,u,l,r,a,i,function(t){_.call(this,e,t)},function(t){_.call(this,e,t)}]}class Ie extends ye{constructor(e){super(),me(this,e,Be,Te,o,{routes:3,prefix:4,restoreScrollState:5})}}function ke(t){let n;return{c(){n=T("header"),n.innerHTML='<span id="title" class="svelte-1atmdb5"><i class="icofont-ship-alt"></i> Did I Win?</span>',I(n,"class","svelte-1atmdb5")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}class Oe extends ye{constructor(e){super(),me(this,e,null,ke,o,{})}}function Ae(e,{delay:n=0,duration:r=400,easing:a=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:a,css:e=>"opacity: "+e*i}}function Ne(n){let r,a,o,c=n[1]&&je(n);return{c(){r=T("div"),c&&c.c(),I(r,"id","container"),I(r,"class","svelte-bgh5jt")},m(e,t){w(e,r,t),c&&c.m(r,null),o=!0},p(e,t){e[1]?c?2&t&&ie(c,1):(c=je(e),c.c(),ie(c,1),c.m(r,null)):c&&(c.d(1),c=null)},i(e){o||(ie(c),a&&a.end(1),o=!0)},o(n){n&&(a=function(n,r,a){const o={direction:"out"};let c,u=r(n,a,o),l=!0;const p=ne;let f;function m(){const{delay:r=0,duration:a=300,easing:s=t,tick:o=e,css:m}=u||oe;m&&(c=M(n,1,0,a,r,s,m));const b=d()+r,h=b+a;Z((()=>ee(n,!1,"start"))),"inert"in n&&(f=n.inert,n.inert=!0),y((e=>{if(l){if(e>=h)return o(0,1),ee(n,!1,"end"),--p.r||i(p.c),!1;if(e>=b){const t=s((e-b)/a);o(1-t,t)}}return l}))}return p.r+=1,s(u)?Q().then((()=>{u=u(o),m()})):m(),{end(e){e&&"inert"in n&&(n.inert=f),e&&u.tick&&u.tick(1,0),l&&(c&&C(n,c),l=!1)}}}(r,Ae,{duration:1e3})),o=!1},d(e){e&&v(r),c&&c.d(),e&&a&&a.end()}}}function je(n){let r,a,i,o,u;return{c(){var e,t;r=T("img"),i=E(),o=T("div"),o.innerHTML='<svg width="100mm" height="100mm" viewBox="0 0 100 100" version="1.1" id="spinner-svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" class="svelte-bgh5jt"><defs id="defs2"><linearGradient id="linearGradient2083"><stop style="stop-color:currentColor;stop-opacity:1;" offset="0" id="stop2079"></stop><stop style="stop-color:currentColor;stop-opacity:0;" offset="1" id="stop2081"></stop></linearGradient><linearGradient xlink:href="#linearGradient2083" id="linearGradient2085" x1="98.117805" y1="70.801521" x2="98.204498" y2="149.59045" gradientUnits="userSpaceOnUse"></linearGradient></defs><g id="spinner-arc"><path style="opacity:1;fill:none;stroke:url(#linearGradient2085);stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.502336;paint-order:stroke fill markers" transform="translate(-41.780995,-67.474064)" id="spinner-path" d="M 63.255444,145.99962 A 40.341225,40.341225 0 0 1 54.510567,102.03615 40.341225,40.341225 0 0 1 91.780998,77.132843"></path><animateTransform attributeName="transform" attributeType="XML" type="rotate" values="0 50 50;360 50 50" dur="2s" repeatCount="indefinite"></animateTransform></g></svg>',I(r,"id","icon"),e=r.src,t=a="favicon.svg",e!==t&&(c||(c=document.createElement("a")),c.href=t,e!==c.href)&&I(r,"src","favicon.svg"),I(r,"alt",""),I(r,"class","svelte-bgh5jt"),I(o,"id","spinner"),I(o,"class","svelte-bgh5jt")},m(e,t){w(e,r,t),w(e,i,t),w(e,o,t)},p(e,t){n=e},i(r){r&&(u||Z((()=>{u=function(n,r,a){const i={direction:"in"};let o,c,u=r(n,a,i),l=!1,p=0;function f(){o&&C(n,o)}function m(){const{delay:r=0,duration:a=300,easing:i=t,tick:s=e,css:m}=u||oe;m&&(o=M(n,0,1,a,r,i,m,p++)),s(0,1);const b=d()+r,h=b+a;c&&c.abort(),l=!0,Z((()=>ee(n,!0,"start"))),c=y((e=>{if(l){if(e>=h)return s(1,0),ee(n,!0,"end"),f(),l=!1;if(e>=b){const t=i((e-b)/a);s(t,1-t)}}return l}))}let b=!1;return{start(){b||(b=!0,C(n),s(u)?(u=u(i),Q().then(m)):m())},invalidate(){b=!1},end(){l&&(f(),l=!1)}}}(o,Ae,n[3]?{duration:0}:{duration:1e3,delay:200}),u.start()})))},o:e,d(e){e&&(v(r),v(i),v(o))}}}function Fe(e){let t,n=e[0]&&(Date.now()-e[2]>36e5||e[3]),r=n&&Ne(e);return{c(){r&&r.c(),t=$()},m(e,n){r&&r.m(e,n),w(e,t,n)},p(e,[a]){1&a&&(n=e[0]&&(Date.now()-e[2]>36e5||e[3])),n?r?(r.p(e,a),1&a&&ie(r,1)):(r=Ne(e),r.c(),ie(r,1),r.m(t.parentNode,t)):r&&(re(),se(r,1,1,(()=>{r=null})),ae())},i(e){ie(r)},o(e){se(r)},d(e){e&&v(t),r&&r.d(e)}}}function Se(e,t,n){let r=!0,a=!1,i=parseInt(localStorage.getItem("sw:lastLoad")??"0");localStorage.setItem("sw:lastLoad",""+Date.now());let s="true"===localStorage.getItem("sw:updated");var o;return localStorage.removeItem("sw:updated"),console.log("[Service Worker]: "+(s?"Reloaded page after update.":"Checking for updates...")),"serviceWorker"in navigator?window.addEventListener("load",(async()=>{if("/"===(location.pathname||"/"))try{const e=await navigator.serviceWorker.register("sw.js");let t=!1;e.addEventListener("updatefound",(()=>{console.log("[Service Worker]: update found!"),t=!0;const n=e.installing;n?.addEventListener("statechange",(()=>{console.log(`[Service Worker]: { state: ${n.state} }`),"activated"===n.state&&(localStorage.setItem("sw:updated","true"),location.reload())}))})),await e.update(),setTimeout((()=>{t||(console.log("[Service Worker]: Ready!"),n(0,r=!1))}),100)}catch(e){console.warn("[Service Worker]: Failed to register..."),console.error(e),n(0,r=!1)}else n(0,r=!1)})):r=!1,o=()=>{n(1,a=!0)},R().$$.on_mount.push(o),[r,a,i,s]}class Me extends ye{constructor(e){super(),me(this,e,Se,Fe,o,{})}}let Ce=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,a=n.cause instanceof e&&n.cause.docsPath||n.docsPath;super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.0.5"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=a,this.metaMessages=n.metaMessages,this.shortMessage=t}};function ze(e,t){const n=e.exec(t);return n?.groups}const Re=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_e=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,De=/^\(.+?\).*?$/,Ue=/^tuple(?<array>(\[(\d*)\])*)$/;function Le(e){let t=e.type;if(Ue.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){t+=Le(e.components[r]),r<n-1&&(t+=", ")}const r=ze(Ue,e.type);return t+=`)${r?.array??""}`,Le({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ge(e){let t="";const n=e.length;for(let r=0;r<n;r++){t+=Le(e[r]),r!==n-1&&(t+=", ")}return t}const qe=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const He=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const Ve=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;const Ze=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function We(e){return Ze.test(e)}function Ke(e){return ze(Ze,e)}const Ye=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;const Je=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;const Xe=/^receive\(\) external payable$/;const Qe=new Set(["indexed"]),et=new Set(["calldata","memory","storage"]);class tt extends Ce{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class nt extends Ce{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class rt extends Ce{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class at extends Ce{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class it extends Ce{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class st extends Ce{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class ot extends Ce{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ct extends Ce{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ut extends Ce{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class lt extends Ce{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class dt extends Ce{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class pt extends Ce{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const ft=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function mt(e,t={}){if(function(e){return Ve.test(e)}(e)){const n=function(e){return ze(Ve,e)}(e);if(!n)throw new ct({signature:e,type:"function"});const r=wt(n.parameters),a=[],i=r.length;for(let e=0;e<i;e++)a.push(gt(r[e],{modifiers:et,structs:t,type:"function"}));const s=[];if(n.returns){const e=wt(n.returns),r=e.length;for(let n=0;n<r;n++)s.push(gt(e[n],{modifiers:et,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:a,outputs:s}}if(function(e){return He.test(e)}(e)){const n=function(e){return ze(He,e)}(e);if(!n)throw new ct({signature:e,type:"event"});const r=wt(n.parameters),a=[],i=r.length;for(let e=0;e<i;e++)a.push(gt(r[e],{modifiers:Qe,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:a}}if(function(e){return qe.test(e)}(e)){const n=function(e){return ze(qe,e)}(e);if(!n)throw new ct({signature:e,type:"error"});const r=wt(n.parameters),a=[],i=r.length;for(let e=0;e<i;e++)a.push(gt(r[e],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:a}}if(function(e){return Ye.test(e)}(e)){const n=function(e){return ze(Ye,e)}(e);if(!n)throw new ct({signature:e,type:"constructor"});const r=wt(n.parameters),a=[],i=r.length;for(let e=0;e<i;e++)a.push(gt(r[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:a}}if(function(e){return Je.test(e)}(e))return{type:"fallback"};if(function(e){return Xe.test(e)}(e))return{type:"receive",stateMutability:"payable"};throw new ut({signature:e})}const yt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,bt=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ht=/^u?int$/;function gt(e,t){const n=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(ft.has(n))return ft.get(n);const r=De.test(e),a=ze(r?bt:yt,e);if(!a)throw new rt({param:e});if(a.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||Re.test(e)||_e.test(e)||xt.test(e)}(a.name))throw new at({param:e,name:a.name});const i=a.name?{name:a.name}:{},s="indexed"===a.modifier?{indexed:!0}:{},o=t?.structs??{};let c,u={};if(r){c="tuple";const e=wt(a.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(gt(e[r],{structs:o}));u={components:t}}else if(a.type in o)c="tuple",u={components:o[a.type]};else if(ht.test(a.type))c=`${a.type}256`;else if(c=a.type,"struct"!==t?.type&&!vt(c))throw new nt({type:c});if(a.modifier){if(!t?.modifiers?.has?.(a.modifier))throw new it({param:e,type:t?.type,modifier:a.modifier});if(et.has(a.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!a.array))throw new st({param:e,type:t?.type,modifier:a.modifier})}const l={type:`${c}${a.array??""}`,...i,...s,...u};return ft.set(n,l),l}function wt(e,t=[],n="",r=0){const a=e.trim().length;for(let i=0;i<a;i++){const a=e[i],s=e.slice(i+1);switch(a){case",":return 0===r?wt(s,[...t,n.trim()]):wt(s,t,`${n}${a}`,r);case"(":return wt(s,t,`${n}${a}`,r+1);case")":return wt(s,t,`${n}${a}`,r-1);default:return wt(s,t,`${n}${a}`,r)}}if(""===n)return t;if(0!==r)throw new pt({current:n,depth:r});return t.push(n.trim()),t}function vt(e){return"address"===e||"bool"===e||"function"===e||"string"===e||Re.test(e)||_e.test(e)}const xt=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;const Tt=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Pt(e,t,n=new Set){const r=[],a=e.length;for(let i=0;i<a;i++){const a=e[i];if(De.test(a.type))r.push(a);else{const e=ze(Tt,a.type);if(!e?.type)throw new ot({abiParameter:a});const{array:i,type:s}=e;if(s in t){if(n.has(s))throw new dt({type:s});r.push({...a,type:`tuple${i??""}`,components:Pt(t[s]??[],t,new Set([...n,s]))})}else{if(!vt(s))throw new tt({type:s});r.push(a)}}}return r}function Et(e){const t=function(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!We(n))continue;const a=Ke(n);if(!a)throw new ct({signature:n,type:"struct"});const i=a.properties.split(";"),s=[],o=i.length;for(let e=0;e<o;e++){const t=i[e].trim();if(!t)continue;const n=gt(t,{type:"struct"});s.push(n)}if(!s.length)throw new lt({signature:n});t[a.name]=s}const r={},a=Object.entries(t),i=a.length;for(let e=0;e<i;e++){const[n,i]=a[e];r[n]=Pt(i,t)}return r}(e),n=[],r=e.length;for(let a=0;a<r;a++){const r=e[a];We(r)||n.push(mt(r,t))}return n}function $t(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const a=e[n];return"function"==typeof a?a:n=>t(e,n)}function Bt(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new Qt(e.type);return`${e.name}(${It(e.inputs,{includeName:t})})`}function It(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${It(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}function kt(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function Ot(e){return kt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const At=e=>e;class Nt extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@2.17.1"});const n=t.cause instanceof Nt?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof Nt&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...r?[`Docs: ${t.docsBaseUrl??"https://viem.sh"}${r}${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return jt(this,e)}}function jt(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?jt(e.cause,t):t?null:e}class Ft extends Nt{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class St extends Nt{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Mt extends Nt{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${It(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class Ct extends Nt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class zt extends Nt{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Rt extends Nt{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${Ot(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class _t extends Nt{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Dt extends Nt{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Ut extends Nt{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Lt extends Nt{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Gt extends Nt{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class qt extends Nt{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Ht extends Nt{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Vt extends Nt{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Bt(e.abiItem)}\`, and`,`\`${t.type}\` in \`${Bt(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Zt extends Nt{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Wt extends Nt{constructor({abiItem:e,data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${It(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=r}}class Kt extends Nt{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${Bt(e,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Yt extends Nt{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Jt extends Nt{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Xt extends Nt{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Qt extends Nt{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class en extends Nt{constructor(e){super(`Type "${e}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class tn extends Nt{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class nn extends Nt{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class rn extends Nt{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class an extends Nt{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}function sn(e,{dir:t,size:n=32}={}){return"string"==typeof e?on(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new rn({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let a=0;a<n;a++){const i="right"===t;r[i?a:n-a-1]=e[i?a:e.length-a-1]}return r}(e,{dir:t,size:n})}function on(e,{dir:t,size:n=32}={}){if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new rn({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}class cn extends Nt{constructor({max:e,min:t,signed:n,size:r,value:a}){super(`Number "${a}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class un extends Nt{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class ln extends Nt{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function dn(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}function pn(e,{size:t}){if(Ot(e)>t)throw new ln({givenSize:Ot(e),maxSize:t})}function fn(e,t={}){const{signed:n}=t;t.size&&pn(e,{size:t.size});const r=BigInt(e);if(!n)return r;const a=(e.length-2)/2;return r<=(1n<<8n*BigInt(a)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*a,"f")}`)-1n}function mn(e,t={}){return Number(fn(e,t))}const yn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function bn(e,t={}){return"number"==typeof e||"bigint"==typeof e?wn(e,t):"string"==typeof e?xn(e,t):"boolean"==typeof e?hn(e,t):gn(e,t)}function hn(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(pn(n,{size:t.size}),sn(n,{size:t.size})):n}function gn(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=yn[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(pn(r,{size:t.size}),sn(r,{dir:"right",size:t.size})):r}function wn(e,t={}){const{signed:n,size:r}=t,a=BigInt(e);let i;r?i=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"==typeof i&&n?-i-1n:0;if(i&&a>i||a<s){const t="bigint"==typeof e?"n":"";throw new cn({max:i?`${i}${t}`:void 0,min:`${s}${t}`,signed:n,size:r,value:`${e}${t}`})}const o=`0x${(n&&a<0?(1n<<BigInt(8*r))+BigInt(a):a).toString(16)}`;return r?sn(o,{size:r}):o}const vn=new TextEncoder;function xn(e,t={}){return gn(vn.encode(e),t)}const Tn=new TextEncoder;function Pn(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const n=wn(e,t);return Bn(n)}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);if(n[0]=Number(e),"number"==typeof t.size)return pn(n,{size:t.size}),sn(n,{size:t.size});return n}(e,t):kt(e)?Bn(e,t):In(e,t)}const En={zero:48,nine:57,A:65,F:70,a:97,f:102};function $n(e){return e>=En.zero&&e<=En.nine?e-En.zero:e>=En.A&&e<=En.F?e-(En.A-10):e>=En.a&&e<=En.f?e-(En.a-10):void 0}function Bn(e,t={}){let n=e;t.size&&(pn(n,{size:t.size}),n=sn(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const a=r.length/2,i=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=$n(r.charCodeAt(t++)),a=$n(r.charCodeAt(t++));if(void 0===n||void 0===a)throw new Nt(`Invalid byte sequence ("${r[t-2]}${r[t-1]}" in "${r}").`);i[e]=16*n+a}return i}function In(e,t={}){const n=Tn.encode(e);return"number"==typeof t.size?(pn(n,{size:t.size}),sn(n,{dir:"right",size:t.size})):n}function kn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function On(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function An(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Nn(e,t){On(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const jn=BigInt(2**32-1),Fn=BigInt(32);function Sn(e,t=!1){return t?{h:Number(e&jn),l:Number(e>>Fn&jn)}:{h:0|Number(e>>Fn&jn),l:0|Number(e&jn)}}function Mn(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:s}=Sn(e[a],t);[n[a],r[a]]=[i,s]}return[n,r]}const Cn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,zn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Rn=(e,t)=>e<<32-t|e>>>t,_n=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Dn(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function Un(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),On(e),e}class Ln{clone(){return this._cloneInto()}}function Gn(e){const t=t=>e().update(Un(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function qn(e=32){if(Cn&&"function"==typeof Cn.getRandomValues)return Cn.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const Hn=[],Vn=[],Zn=[],Wn=BigInt(0),Kn=BigInt(1),Yn=BigInt(2),Jn=BigInt(7),Xn=BigInt(256),Qn=BigInt(113);for(let e=0,t=Kn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Hn.push(2*(5*r+n)),Vn.push((e+1)*(e+2)/2%64);let a=Wn;for(let e=0;e<7;e++)t=(t<<Kn^(t>>Jn)*Qn)%Xn,t&Yn&&(a^=Kn<<(Kn<<BigInt(e))-Kn);Zn.push(a)}const[er,tr]=Mn(Zn,!0),nr=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),rr=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class ar extends Ln{constructor(e,t,n,r=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){_n||Dn(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,a=(t+2)%10,i=n[a],s=n[a+1],o=nr(i,s,1)^n[r],c=rr(i,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],a=e[3];for(let n=0;n<24;n++){const r=Vn[n],i=nr(t,a,r),s=rr(t,a,r),o=Hn[n];t=e[o],a=e[o+1],e[o]=i,e[o+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=er[r],e[1]^=tr[r]}n.fill(0)}(this.state32,this.rounds),_n||Dn(this.state32),this.posOut=0,this.pos=0}update(e){An(this);const{blockLen:t,state:n}=this,r=(e=Un(e)).length;for(let a=0;a<r;){const i=Math.min(t-this.pos,r-a);for(let t=0;t<i;t++)n[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){An(this,!1),On(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,a=e.length;r<a;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,a-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Nn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:a,enableXOF:i}=this;return e||(e=new ar(t,n,r,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const ir=((e,t,n)=>Gn((()=>new ar(t,e,n))))(1,136,32);function sr(e,t){const n=t||"hex",r=ir(kt(e,{strict:!1})?Pn(e):e);return"bytes"===n?r:bn(r)}const or=e=>sr(Pn(e));const cr=e=>{var t;return function(e){let t=!0,n="",r=0,a="",i=!1;for(let s=0;s<e.length;s++){const o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&r++,")"===o&&r--,t)if(0!==r)" "!==o?(a+=o,n+=o):","!==e[s-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===o&&["event","function",""].includes(a))a="";else if(a+=o,")"===o){i=!0;break}}if(!i)throw new Nt("Unable to normalize signature.");return a}("string"==typeof e?e:"function"===(t=e).type?`function ${t.name}(${Ge(t.inputs)})${t.stateMutability&&"nonpayable"!==t.stateMutability?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${Ge(t.outputs)})`:""}`:"event"===t.type?`event ${t.name}(${Ge(t.inputs)})`:"error"===t.type?`error ${t.name}(${Ge(t.inputs)})`:"constructor"===t.type?`constructor(${Ge(t.inputs)})${"payable"===t.stateMutability?" payable":""}`:"fallback"===t.type?"fallback()":"receive() external payable")};function ur(e){return t=cr(e),or(t);var t}const lr=ur;class dr extends Nt{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class pr extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,t){return super.set(e,t),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const fr=new pr(8192);function mr(e,t){if(fr.has(`${e}.${t}`))return fr.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=sr(In(n),"bytes"),a=(t?n.substring(`${t}0x`.length):n).split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&r[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());const i=`0x${a.join("")}`;return fr.set(`${e}.${t}`,i),i}const yr=/^0x[a-fA-F0-9]{40}$/,br=new pr(8192);function hr(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(br.has(r))return br.get(r);const a=!(!yr.test(e)||e.toLowerCase()!==e&&n&&mr(e)!==e);return br.set(r,a),a}function gr(e){return"string"==typeof e[0]?wr(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function wr(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function vr(e,t,n,{strict:r}={}){return kt(e,{strict:!1})?Er(e,t,n,{strict:r}):Pr(e,t,n,{strict:r})}function xr(e,t){if("number"==typeof t&&t>0&&t>Ot(e)-1)throw new nn({offset:t,position:"start",size:Ot(e)})}function Tr(e,t,n){if("number"==typeof t&&"number"==typeof n&&Ot(e)!==n-t)throw new nn({offset:n,position:"end",size:Ot(e)})}function Pr(e,t,n,{strict:r}={}){xr(e,t);const a=e.slice(t,n);return r&&Tr(a,t,n),a}function Er(e,t,n,{strict:r}={}){xr(e,t);const a=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&Tr(a,t,n),a}function $r(e,t){if(e.length!==t.length)throw new _t({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Br({param:e[r],value:t[r]}));return n}({params:e,values:t}),r=Ir(n);return 0===r.length?"0x":r}function Br({param:e,value:t}){const n=kr(e.type);if(n){const[r,a]=n;return function(e,{length:t,param:n}){const r=null===t;if(!Array.isArray(e))throw new Xt(e);if(!r&&e.length!==t)throw new zt({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let a=!1;const i=[];for(let t=0;t<e.length;t++){const r=Br({param:n,value:e[t]});r.dynamic&&(a=!0),i.push(r)}if(r||a){const e=Ir(i);if(r){const t=wn(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?gr([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:gr(i.map((({encoded:e})=>e)))}}(t,{length:r,param:{...e,type:a}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let a=0;a<t.components.length;a++){const i=t.components[a],s=Br({param:i,value:e[Array.isArray(e)?a:i.name]});r.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ir(r):gr(r.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!hr(e))throw new dr({address:e});return{dynamic:!1,encoded:on(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new Nt(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:on(hn(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(e,{signed:t}){return{dynamic:!1,encoded:wn(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),r=Ot(e);if(!n){let t=e;return r%32!=0&&(t=on(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:gr([on(wn(r,{size:32})),t])}}if(r!==Number.parseInt(n))throw new Rt({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:on(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=xn(e),n=Math.ceil(Ot(t)/32),r=[];for(let e=0;e<n;e++)r.push(on(vr(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:gr([on(wn(Ot(t),{size:32})),...r])}}(t);throw new Yt(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ir(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:a}=e[n];t+=r?32:Ot(a)}const n=[],r=[];let a=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:o}=e[i];s?(n.push(wn(t+a,{size:32})),r.push(o),a+=Ot(o)):n.push(o)}return gr([...n,...r])}function kr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Or=e=>vr(ur(e),0,4);function Ar(e){const{abi:t,args:n=[],name:r}=e,a=kt(r,{strict:!1}),i=t.filter((e=>a?"function"===e.type?Or(e)===r:"event"===e.type&&lr(e)===r:"name"in e&&e.name===r));if(0===i.length)return;if(1===i.length)return i[0];let s;for(const e of i){if(!("inputs"in e))continue;if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==n.length)continue;const t=n.every(((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&Nr(t,r)}));if(t){if(s&&"inputs"in s&&s.inputs){const t=jr(e.inputs,s.inputs,n);if(t)throw new Vt({abiItem:e,type:t[0]},{abiItem:s,type:t[1]})}s=e}}return s||i[0]}function Nr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return hr(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every(((t,n)=>Nr(Object.values(e)[n],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every((e=>Nr(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function jr(e,t,n){for(const r in e){const a=e[r],i=t[r];if("tuple"===a.type&&"tuple"===i.type&&"components"in a&&"components"in i)return jr(a.components,i.components,n[r]);const s=[a.type,i.type];if(!(!s.includes("address")||!s.includes("bytes20"))||(s.includes("address")&&s.includes("string")||!(!s.includes("address")||!s.includes("bytes")))&&hr(n[r],{strict:!1}))return s}}const Fr="/docs/contract/encodeEventTopics";function Sr(e){const{abi:t,eventName:n,args:r}=e;let a=t[0];if(n){const e=Ar({abi:t,name:n});if(!e)throw new Gt(n,{docsPath:Fr});a=e}if("event"!==a.type)throw new Gt(void 0,{docsPath:Fr});const i=Bt(a),s=lr(i);let o=[];if(r&&"inputs"in a){const e=a.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map((e=>r[e.name]))??[]:[];t.length>0&&(o=e?.map(((e,n)=>Array.isArray(t[n])?t[n].map(((r,a)=>Mr({param:e,value:t[n][a]}))):t[n]?Mr({param:e,value:t[n]}):null))??[])}return[s,...o]}function Mr({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return sr(Pn(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new tn(e.type);return $r([e],[t])}function Cr(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:r,status:a,transport:i})=>{"success"===a&&t===e&&(n[r]=i.request)})),t=>n[t]||e.request}async function zr(e,t){const{address:n,abi:r,args:a,eventName:i,fromBlock:s,strict:o,toBlock:c}=t,u=Cr(e,{method:"eth_newFilter"}),l=i?Sr({abi:r,args:a,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof s?wn(s):s,toBlock:"bigint"==typeof c?wn(c):c,topics:l}]});return{abi:r,args:a,eventName:i,id:d,request:u(d),strict:Boolean(o),type:"event"}}function Rr(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}const _r="/docs/contract/encodeFunctionData";function Dr(e){const{args:t}=e,{abi:n,functionName:r}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:r}=e;let a=t[0];if(r){const e=Ar({abi:t,args:n,name:r});if(!e)throw new qt(r,{docsPath:_r});a=e}if("function"!==a.type)throw new qt(void 0,{docsPath:_r});return{abi:[a],functionName:Or(Bt(a))}}(e),a=n[0];return wr([r,("inputs"in a&&a.inputs?$r(a.inputs,t??[]):void 0)??"0x"])}const Ur={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Lr={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Gr={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class qr extends Nt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Hr extends Nt{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class Vr extends Nt{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const Zr={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Vr({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Hr({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new qr({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new qr({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Wr(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Zr);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Kr(e,t={}){void 0!==t.size&&pn(e,{size:t.size});return fn(gn(e,t),t)}function Yr(e,t={}){let n=e;if(void 0!==t.size&&(pn(n,{size:t.size}),n=dn(n)),n.length>1||n[0]>1)throw new un(n);return Boolean(n[0])}function Jr(e,t={}){void 0!==t.size&&pn(e,{size:t.size});return mn(gn(e,t),t)}function Xr(e,t){const n="string"==typeof t?Bn(t):t,r=Wr(n);if(0===Ot(n)&&e.length>0)throw new Ct;if(Ot(t)&&Ot(t)<32)throw new Mt({data:"string"==typeof t?t:gn(t),params:e,size:Ot(t)});let a=0;const i=[];for(let t=0;t<e.length;++t){const n=e[t];r.setPosition(a);const[s,o]=Qr(r,n,{staticPosition:0});a+=o,i.push(s)}return i}function Qr(e,t,{staticPosition:n}){const r=kr(t.type);if(r){const[a,i]=r;return function(e,t,{length:n,staticPosition:r}){if(!n){const n=r+Jr(e.readBytes(ta)),a=n+ea;e.setPosition(n);const i=Jr(e.readBytes(ea)),s=na(t);let o=0;const c=[];for(let n=0;n<i;++n){e.setPosition(a+(s?32*n:o));const[r,i]=Qr(e,t,{staticPosition:a});o+=i,c.push(r)}return e.setPosition(r+32),[c,32]}if(na(t)){const a=r+Jr(e.readBytes(ta)),i=[];for(let r=0;r<n;++r){e.setPosition(a+32*r);const[n]=Qr(e,t,{staticPosition:a});i.push(n)}return e.setPosition(r+32),[i,32]}let a=0;const i=[];for(let s=0;s<n;++s){const[n,s]=Qr(e,t,{staticPosition:r+a});a+=s,i.push(n)}return[i,a]}(e,{...t,type:i},{length:a,staticPosition:n})}if("tuple"===t.type)return function(e,t,{staticPosition:n}){const r=0===t.components.length||t.components.some((({name:e})=>!e)),a=r?[]:{};let i=0;if(na(t)){const s=n+Jr(e.readBytes(ta));for(let n=0;n<t.components.length;++n){const o=t.components[n];e.setPosition(s+i);const[c,u]=Qr(e,o,{staticPosition:s});i+=u,a[r?n:o?.name]=c}return e.setPosition(n+32),[a,32]}for(let s=0;s<t.components.length;++s){const o=t.components[s],[c,u]=Qr(e,o,{staticPosition:n});a[r?s:o?.name]=c,i+=u}return[a,i]}(e,t,{staticPosition:n});if("address"===t.type)return function(e){const t=e.readBytes(32);return[mr(gn(Pr(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[Yr(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,a]=t.type.split("bytes");if(!a){const t=Jr(e.readBytes(32));e.setPosition(n+t);const r=Jr(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const a=e.readBytes(r);return e.setPosition(n+32),[gn(a),32]}const i=gn(e.readBytes(Number.parseInt(a),32));return[i,32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),a=e.readBytes(32);return[r>48?Kr(a,{signed:n}):Jr(a,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=Jr(e.readBytes(32)),r=t+n;e.setPosition(r);const a=Jr(e.readBytes(32));if(0===a)return e.setPosition(t+32),["",32];const i=e.readBytes(a,32),s=function(e,t={}){let n=e;return void 0!==t.size&&(pn(n,{size:t.size}),n=dn(n,{dir:"right"})),(new TextDecoder).decode(n)}(dn(i));return e.setPosition(t+32),[s,32]}(e,{staticPosition:n});throw new Jt(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ea=32,ta=32;function na(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(na);const n=kr(e.type);return!(!n||!na({...e,type:n[1]}))}function ra(e){const{abi:t,data:n}=e,r=vr(n,0,4);if("0x"===r)throw new Ct;const a=[...t||[],Lr,Gr].find((e=>"error"===e.type&&r===Or(Bt(e))));if(!a)throw new Dt(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?Xr(a.inputs,vr(n,4)):void 0,errorName:a.name}}const aa=(e,t,n)=>JSON.stringify(e,((e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r}),n);function ia({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map(((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?aa(t[n]):t[n]}`)).join(", ")})`}const sa={gwei:9,wei:18},oa={ether:-9,wei:9};function ca(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[a,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${a||"0"}${i?`.${i}`:""}`}function ua(e,t="wei"){return ca(e,sa[t])}function la(e,t="wei"){return ca(e,oa[t])}class da extends Nt{constructor({address:e}){super(`State for account "${e}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class pa extends Nt{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function fa(e){return e.reduce(((e,{slot:t,value:n})=>`${e}        ${t}: ${n}\n`),"")}function ma(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),n=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`)).join("\n")}class ya extends Nt{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class ba extends Nt{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class ha extends Nt{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ma(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class ga extends Nt{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class wa extends Nt{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:a}){let i="Transaction";n&&void 0!==a&&(i=`Transaction at block time "${n}" at index "${a}"`),e&&void 0!==a&&(i=`Transaction at block hash "${e}" at index "${a}"`),t&&void 0!==a&&(i=`Transaction at block number "${t}" at index "${a}"`),r&&(i=`Transaction with hash "${r}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class va extends Nt{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class xa extends Nt{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class Ta extends Nt{constructor(e,{account:t,docsPath:n,chain:r,data:a,gas:i,gasPrice:s,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:u,to:l,value:d,stateOverride:p}){const f=t?Rr(t):void 0;let m=ma({from:f?.address,to:l,value:void 0!==d&&`${ua(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:void 0!==s&&`${la(s)} gwei`,maxFeePerGas:void 0!==o&&`${la(o)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${la(c)} gwei`,nonce:u});p&&(m+=`\n${function(e){return e.reduce(((e,{address:t,...n})=>{let r=`${e}    ${t}:\n`;return n.nonce&&(r+=`      nonce: ${n.nonce}\n`),n.balance&&(r+=`      balance: ${n.balance}\n`),n.code&&(r+=`      code: ${n.code}\n`),n.state&&(r+="      state:\n",r+=fa(n.state)),n.stateDiff&&(r+="      stateDiff:\n",r+=fa(n.stateDiff)),r}),"  State Override:\n").slice(0,-1)}(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class Pa extends Nt{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:a,functionName:i,sender:s}){const o=Ar({abi:t,args:n,name:i}),c=o?ia({abiItem:o,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=ma({address:r&&r,function:o?Bt(o,{includeName:!0}):void 0,args:c&&"()"!==c&&`${[...Array(i?.length??0).keys()].map((()=>" ")).join("")}${c}`,sender:s});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",u].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=i,this.sender=s}}class Ea extends Nt{constructor({abi:e,data:t,functionName:n,message:r}){let a,i,s,o,c;if(t&&"0x"!==t)try{i=ra({abi:e,data:t});const{abiItem:n,errorName:r,args:a}=i;if("Error"===r)o=a[0];else if("Panic"===r){const[e]=a;o=Ur[e]}else{const e=n?Bt(n,{includeName:!0}):void 0,t=n&&a?ia({abiItem:n,args:a,includeFunctionName:!1,includeName:!1}):void 0;s=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){a=e}else r&&(o=r);a instanceof Dt&&(c=a.signature,s=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(o&&"execution reverted"!==o||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,o||c].join("\n"):`The contract function "${n}" reverted.`,{cause:a,metaMessages:s}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.reason=o,this.signature=c}}class $a extends Nt{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Ba extends Nt{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class Ia extends Nt{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class ka extends Nt{constructor({body:e,cause:t,details:n,headers:r,status:a,url:i}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[a&&`Status: ${a}`,`URL: ${i}`,e&&`Request body: ${aa(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=a,this.url=i}}class Oa extends Nt{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${n}`,`Request body: ${aa(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class Aa extends Nt{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${t}`,`Request body: ${aa(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}class Na extends Nt{constructor(e,{code:t,docsPath:n,metaMessages:r,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Oa?e.code:t??-1}}class ja extends Na{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Fa extends Na{constructor(e){super(e,{code:Fa.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Fa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Sa extends Na{constructor(e){super(e,{code:Sa.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ma extends Na{constructor(e){super(e,{code:Ma.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ca extends Na{constructor(e){super(e,{code:Ca.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Ca,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class za extends Na{constructor(e){super(e,{code:za.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(za,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ra extends Na{constructor(e){super(e,{code:Ra.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class _a extends Na{constructor(e){super(e,{code:_a.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(_a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Da extends Na{constructor(e){super(e,{code:Da.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Da,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ua extends Na{constructor(e){super(e,{code:Ua.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Ua,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class La extends Na{constructor(e){super(e,{code:La.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(La,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ga extends Na{constructor(e){super(e,{code:Ga.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class qa extends Na{constructor(e){super(e,{code:qa.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(qa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ha extends ja{constructor(e){super(e,{code:Ha.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Ha,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Va extends ja{constructor(e){super(e,{code:Va.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Va,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Za extends ja{constructor(e){super(e,{code:Za.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Za,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Wa extends ja{constructor(e){super(e,{code:Wa.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Wa,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ka extends ja{constructor(e){super(e,{code:Ka.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ya extends ja{constructor(e){super(e,{code:Ya.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Ya,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ja extends Na{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Xa=3;function Qa(e,{abi:t,address:n,args:r,docsPath:a,functionName:i,sender:s}){const{code:o,data:c,message:u,shortMessage:l}=e instanceof Ia?e:e instanceof Nt?e.walk((e=>"data"in e))||e.walk():{},d=e instanceof Ct?new $a({functionName:i}):[Xa,za.code].includes(o)&&(c||u||l)?new Ea({abi:t,data:"object"==typeof c?c.data:c,functionName:i,message:l??u}):e;return new Pa(d,{abi:t,args:r,contractAddress:n,docsPath:a,functionName:i,sender:s})}class ei extends Nt{constructor(e,{account:t,docsPath:n,chain:r,data:a,gas:i,gasPrice:s,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:u,to:l,value:d}){const p=ma({from:t?.address,to:l,value:void 0!==d&&`${ua(d)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:void 0!==s&&`${la(s)} gwei`,maxFeePerGas:void 0!==o&&`${la(o)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${la(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class ti extends Nt{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(ti,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ni extends Nt{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${la(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(ni,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ri extends Nt{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${la(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(ri,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ai extends Nt{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(ai,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class ii extends Nt{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(ii,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class si extends Nt{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(si,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class oi extends Nt{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(oi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class ci extends Nt{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(ci,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ui extends Nt{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(ui,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class li extends Nt{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(li,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class di extends Nt{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${la(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${la(n)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(di,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class pi extends Nt{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function fi(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof Nt?e.walk((e=>e.code===ti.code)):e;return r instanceof Nt?new ti({cause:e,message:r.details}):ti.nodeMessage.test(n)?new ti({cause:e,message:e.details}):ni.nodeMessage.test(n)?new ni({cause:e,maxFeePerGas:t?.maxFeePerGas}):ri.nodeMessage.test(n)?new ri({cause:e,maxFeePerGas:t?.maxFeePerGas}):ai.nodeMessage.test(n)?new ai({cause:e,nonce:t?.nonce}):ii.nodeMessage.test(n)?new ii({cause:e,nonce:t?.nonce}):si.nodeMessage.test(n)?new si({cause:e,nonce:t?.nonce}):oi.nodeMessage.test(n)?new oi({cause:e}):ci.nodeMessage.test(n)?new ci({cause:e,gas:t?.gas}):ui.nodeMessage.test(n)?new ui({cause:e,gas:t?.gas}):li.nodeMessage.test(n)?new li({cause:e}):di.nodeMessage.test(n)?new di({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new pi({cause:e})}function mi(e,{format:t}){if(!t)return{};const n={};return function t(r){const a=Object.keys(r);for(const i of a)i in e&&(n[i]=e[i]),r[i]&&"object"==typeof r[i]&&!Array.isArray(r[i])&&t(r[i])}(t(e||{})),n}function yi(e,t){return({exclude:n,format:r})=>({exclude:n,format:e=>{const a=t(e);if(n)for(const e of n)delete a[e];return{...a,...r(e)}},type:e})}const bi={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function hi(e){const t={};return void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map((e=>gn(e))):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=wn(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=wn(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=wn(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=wn(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=wn(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=wn(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=bi[e.type]),void 0!==e.value&&(t.value=wn(e.value)),t}function gi(e){if(e&&0!==e.length)return e.reduce(((e,{slot:t,value:n})=>{if(66!==t.length)throw new an({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new an({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e}),{})}function wi(e){const{balance:t,nonce:n,state:r,stateDiff:a,code:i}=e,s={};if(void 0!==i&&(s.code=i),void 0!==t&&(s.balance=wn(t)),void 0!==n&&(s.nonce=wn(n)),void 0!==r&&(s.state=gi(r)),void 0!==a){if(s.state)throw new pa;s.stateDiff=gi(a)}return s}function vi(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!hr(n,{strict:!1}))throw new dr({address:n});if(t[n])throw new da({address:n});t[n]=wi(r)}return t}function xi(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:a,to:i}=e,s=t?Rr(t):void 0;if(s&&!hr(s.address))throw new dr({address:s.address});if(i&&!hr(i))throw new dr({address:i});if(void 0!==n&&(void 0!==r||void 0!==a))throw new ya;if(r&&r>2n**256n-1n)throw new ni({maxFeePerGas:r});if(a&&r&&a>r)throw new di({maxFeePerGas:r,maxPriorityFeePerGas:a})}class Ti extends Nt{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Pi extends Nt{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Ei extends Nt{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${la(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class $i extends Nt{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Bi={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Ii(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?mn(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?mn(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Bi[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}const ki=yi("transaction",Ii);function Oi(e){const t=e.transactions?.map((e=>"string"==typeof e?e:Ii(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ai=yi("block",Oi);async function Ni(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:a}={}){const i=r??"latest",s=a??!1,o=void 0!==n?wn(n):void 0;let c=null;if(c=t?await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[o||i,s]},{dedupe:Boolean(o)}),!c)throw new $i({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Oi)(c)}async function ji(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Fi(e,t){const{block:n,chain:r=e.chain,request:a}=t||{};if("function"==typeof r?.fees?.defaultPriorityFee){const t=n||await $t(e,Ni,"getBlock")({});return r.fees.defaultPriorityFee({block:t,client:e,request:a})}if(void 0!==r?.fees?.defaultPriorityFee)return r?.fees?.defaultPriorityFee;try{return fn(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):$t(e,Ni,"getBlock")({}),$t(e,ji,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new Pi;const a=r-t.baseFeePerGas;return a<0n?0n:a}}async function Si(e,t){const{block:n,chain:r=e.chain,request:a,type:i="eip1559"}=t||{},s=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:a}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new Ti;const o=10**(s.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(s*o))/BigInt(o),u=n||await $t(e,Ni,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas){const t=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:a,type:i});if(null!==t)return t}if("eip1559"===i){if("bigint"!=typeof u.baseFeePerGas)throw new Pi;const t="bigint"==typeof a?.maxPriorityFeePerGas?a.maxPriorityFeePerGas:await Fi(e,{block:u,chain:r,request:a}),n=c(u.baseFeePerGas);return{maxFeePerGas:a?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:a?.gasPrice??c(await $t(e,ji,"getGasPrice")({}))}}async function Mi(e,{address:t,blockTag:n="latest",blockNumber:r}){return mn(await e.request({method:"eth_getTransactionCount",params:[t,r?wn(r):n]},{dedupe:Boolean(r)}))}function Ci(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map((e=>Bn(e))):e.blobs,a=[];for(const e of r)a.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===n?a:a.map((e=>gn(e)))}function zi(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map((e=>Bn(e))):e.blobs,a="string"==typeof e.commitments[0]?e.commitments.map((e=>Bn(e))):e.commitments,i=[];for(let e=0;e<r.length;e++){const n=r[e],s=a[e];i.push(Uint8Array.from(t.computeBlobKzgProof(n,s)))}return"bytes"===n?i:i.map((e=>gn(e)))}const Ri=(e,t,n)=>e&t^e&n^t&n;class _i extends Ln{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=zn(this.buffer)}update(e){An(this);const{view:t,buffer:n,blockLen:r}=this,a=(e=Un(e)).length;for(let i=0;i<a;){const s=Math.min(r-this.pos,a-i);if(s!==r)n.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=zn(e);for(;r<=a-i;i+=r)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){An(this),Nn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:a}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let e=i;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const a=BigInt(32),i=BigInt(4294967295),s=Number(n>>a&i),o=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,o,r)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);const s=zn(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:a,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=a,e.destroyed=i,r%t&&e.buffer.set(n),e}}const Di=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ui=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Li=new Uint32Array(64);class Gi extends _i{constructor(){super(64,32,8,!1),this.A=0|Ui[0],this.B=0|Ui[1],this.C=0|Ui[2],this.D=0|Ui[3],this.E=0|Ui[4],this.F=0|Ui[5],this.G=0|Ui[6],this.H=0|Ui[7]}get(){const{A:e,B:t,C:n,D:r,E:a,F:i,G:s,H:o}=this;return[e,t,n,r,a,i,s,o]}set(e,t,n,r,a,i,s,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|a,this.F=0|i,this.G=0|s,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Li[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Li[e-15],n=Li[e-2],r=Rn(t,7)^Rn(t,18)^t>>>3,a=Rn(n,17)^Rn(n,19)^n>>>10;Li[e]=a+Li[e-7]+r+Li[e-16]|0}let{A:n,B:r,C:a,D:i,E:s,F:o,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(Rn(s,6)^Rn(s,11)^Rn(s,25))+((l=s)&o^~l&c)+Di[e]+Li[e]|0,d=(Rn(n,2)^Rn(n,13)^Rn(n,22))+Ri(n,r,a)|0;u=c,c=o,o=s,s=i+t|0,i=a,a=r,r=n,n=t+d|0}var l;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,i=i+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,a,i,s,o,c,u)}roundClean(){Li.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qi=Gn((()=>new Gi));function Hi(e){const{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),a=function(e,t){const n=t||"hex",r=qi(kt(e,{strict:!1})?Pn(e):e);return"bytes"===n?r:bn(r)}(t,"bytes");return a.set([n],0),"bytes"===r?a:gn(a)}function Vi(e){const{commitments:t,version:n}=e,r=e.to??("string"==typeof t[0]?"hex":"bytes"),a=[];for(const e of t)a.push(Hi({commitment:e,to:r,version:n}));return a}const Zi=32,Wi=4096,Ki=Zi*Wi,Yi=6*Ki-1-1*Wi*6,Ji=1;class Xi extends Nt{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Qi extends Nt{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class es extends Nt{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class ts extends Nt{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${Ji}`,`Received: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function ns(e){const{data:t,kzg:n,to:r}=e,a=e.blobs??function(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),n="string"==typeof e.data?Bn(e.data):e.data,r=Ot(n);if(!r)throw new Qi;if(r>Yi)throw new Xi({maxSize:Yi,size:r});const a=[];let i=!0,s=0;for(;i;){const e=Wr(new Uint8Array(Ki));let t=0;for(;t<Wi;){const r=n.slice(s,s+(Zi-1));if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),i=!1;break}t++,s+=31}a.push(e)}return"bytes"===t?a.map((e=>e.bytes)):a.map((e=>gn(e.bytes)))}({data:t,to:r}),i=e.commitments??Ci({blobs:a,kzg:n,to:r}),s=e.proofs??zi({blobs:a,commitments:i,kzg:n,to:r}),o=[];for(let e=0;e<a.length;e++)o.push({blob:a[e],commitment:i[e],proof:s[e]});return o}function rs(e){if(e.type)return e.type;if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new ha({transaction:e})}async function as(e){return mn(await e.request({method:"eth_chainId"},{dedupe:!0}))}const is=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function ss(e,t){const{account:n=e.account,blobs:r,chain:a,gas:i,kzg:s,nonce:o,parameters:c=is,type:u}=t,l=n?Rr(n):void 0,d={...t,...l?{from:l?.address}:{}};let p,f;async function m(){return p||(p=await $t(e,Ni,"getBlock")({blockTag:"latest"}),p)}async function y(){if(f)return f;if(a)return a.id;if(void 0!==t.chainId)return t.chainId;const n=await $t(e,as,"getChainId")({});return f=n,f}if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&r&&s){const e=Ci({blobs:r,kzg:s});if(c.includes("blobVersionedHashes")){const t=Vi({commitments:e,to:"hex"});d.blobVersionedHashes=t}if(c.includes("sidecars")){const t=ns({blobs:r,commitments:e,proofs:zi({blobs:r,commitments:e,kzg:s}),to:"hex"});d.sidecars=t}}if(c.includes("chainId")&&(d.chainId=await y()),c.includes("nonce")&&void 0===o&&l)if(l.nonceManager){const t=await y();d.nonce=await l.nonceManager.consume({address:l.address,chainId:t,client:e})}else d.nonce=await $t(e,Mi,"getTransactionCount")({address:l.address,blockTag:"pending"});if((c.includes("fees")||c.includes("type"))&&void 0===u)try{d.type=rs(d)}catch{const e=await m();d.type="bigint"==typeof e?.baseFeePerGas?"eip1559":"legacy"}if(c.includes("fees"))if("legacy"!==d.type&&"eip2930"!==d.type){if(void 0===d.maxFeePerGas||void 0===d.maxPriorityFeePerGas){const n=await m(),{maxFeePerGas:r,maxPriorityFeePerGas:i}=await Si(e,{block:n,chain:a,request:d});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<i)throw new Ei({maxPriorityFeePerGas:i});d.maxPriorityFeePerGas=i,d.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new Pi;const n=await m(),{gasPrice:r}=await Si(e,{block:n,chain:a,request:d,type:"legacy"});d.gasPrice=r}return c.includes("gas")&&void 0===i&&(d.gas=await $t(e,os,"estimateGas")({...d,account:l?{address:l.address,type:"json-rpc"}:void 0})),xi(d),delete d.parameters,d}async function os(e,t){const n=t.account??e.account,r=n?Rr(n):void 0;try{const{accessList:n,blobs:a,blobVersionedHashes:i,blockNumber:s,blockTag:o,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:m,to:y,value:b,stateOverride:h,...g}=await ss(e,{...t,parameters:"local"===r?.type?void 0:["blobVersionedHashes"]}),w=(s?wn(s):void 0)||o,v=vi(h);xi(t);const x=e.chain?.formatters?.transactionRequest?.format,T=(x||hi)({...mi(g,{format:x}),from:r?.address,accessList:n,blobs:a,blobVersionedHashes:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:m,to:y,value:b}),P=await e.request({method:"eth_estimateGas",params:v?[T,w??"latest",v]:w?[T,w]:[T]});return BigInt(P)}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=fi(e,n);return t instanceof pi?e:t})();return new ei(r,{docsPath:t,...n})}(n,{...t,account:r,chain:e.chain})}}const cs="/docs/contract/decodeEventLog";function us(e){const{abi:t,data:n,strict:r,topics:a}=e,i=r??!0,[s,...o]=a;if(!s)throw new Ut({docsPath:cs});const c=t.find((e=>"event"===e.type&&s===lr(Bt(e))));if(!c||!("name"in c)||"event"!==c.type)throw new Lt(s,{docsPath:cs});const{name:u,inputs:l}=c,d=l?.some((e=>!("name"in e&&e.name)));let p=d?[]:{};const f=l.filter((e=>"indexed"in e&&e.indexed));for(let e=0;e<f.length;e++){const t=f[e],n=o[e];if(!n)throw new Kt({abiItem:c,param:t});p[d?e:t.name||e]=ls({param:t,value:n})}const m=l.filter((e=>!("indexed"in e&&e.indexed)));if(m.length>0)if(n&&"0x"!==n)try{const e=Xr(m,n);if(e)if(d)p=[...p,...e];else for(let t=0;t<m.length;t++)p[m[t].name]=e[t]}catch(e){if(i){if(e instanceof Mt||e instanceof Hr)throw new Wt({abiItem:c,data:n,params:m,size:Ot(n)});throw e}}else if(i)throw new Wt({abiItem:c,data:"0x",params:m,size:0});return{eventName:u,args:Object.values(p).length>0?p:void 0}}function ls({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return(Xr([e],t)||[])[0]}function ds({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map((n=>{try{const a=us({...n,abi:e,strict:r});return t&&!t.includes(a.eventName)?null:{...a,...n}}catch(e){let t,a;if(e instanceof Lt)return null;if(e instanceof Wt||e instanceof Kt){if(r)return null;t=e.abiItem.name,a=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return{...n,args:a?[]:{},eventName:t}}})).filter(Boolean)}function ps(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function fs(e,{address:t,blockHash:n,fromBlock:r,toBlock:a,event:i,events:s,args:o,strict:c}={}){const u=c??!1,l=s??(i?[i]:void 0);let d,p=[];if(l){const e=l.flatMap((e=>Sr({abi:[e],eventName:e.name,args:o})));p=[e],i&&(p=p[0])}d=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:p,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:p,fromBlock:"bigint"==typeof r?wn(r):r,toBlock:"bigint"==typeof a?wn(a):a}]});const f=d.map((e=>ps(e)));return l?ds({abi:l,logs:f,strict:u}):f}async function ms(e,t){const{abi:n,address:r,args:a,blockHash:i,eventName:s,fromBlock:o,toBlock:c,strict:u}=t,l=s?Ar({abi:n,name:s}):void 0,d=l?void 0:n.filter((e=>"event"===e.type));return $t(e,fs,"getLogs")({address:r,args:a,blockHash:i,event:l,events:d,fromBlock:o,toBlock:c,strict:u})}const ys="/docs/contract/decodeFunctionResult";function bs(e){const{abi:t,args:n,functionName:r,data:a}=e;let i=t[0];if(r){const e=Ar({abi:t,args:n,name:r});if(!e)throw new qt(r,{docsPath:ys});i=e}if("function"!==i.type)throw new qt(void 0,{docsPath:ys});if(!i.outputs)throw new Ht(i.name,{docsPath:ys});const s=Xr(i.outputs,a);return s&&s.length>1?s:s&&1===s.length?s[0]:void 0}const hs=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],gs=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],ws=[...gs,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],vs=[...gs,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],xs=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Ts=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ps=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Es="0x82ad56cb",$s="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Bs="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Is="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class ks extends Nt{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Os extends Nt{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class As extends Nt{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}const Ns="/docs/contract/encodeDeployData";function js(e){const{abi:t,args:n,bytecode:r}=e;if(!n||0===n.length)return r;const a=t.find((e=>"type"in e&&"constructor"===e.type));if(!a)throw new Ft({docsPath:Ns});if(!("inputs"in a))throw new St({docsPath:Ns});if(!a.inputs||0===a.inputs.length)throw new St({docsPath:Ns});return wr([r,$r(a.inputs,n)])}function Fs({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new ks({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new ks({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Ss=new Map;function Ms({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:a}){const i=async()=>{const t=o();s();const n=t.map((({args:e})=>e));0!==n.length&&e(n).then((e=>{a&&Array.isArray(e)&&e.sort(a);for(let n=0;n<t.length;n++){const{pendingPromise:r}=t[n];r.resolve?.([e[n],e])}})).catch((e=>{for(let n=0;n<t.length;n++){const{pendingPromise:r}=t[n];r.reject?.(e)}}))},s=()=>Ss.delete(t),o=()=>Ss.get(t)||[],c=e=>Ss.set(t,[...o(),e]);return{flush:s,async schedule(e){const t={},a=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),s=n?.([...o().map((({args:e})=>e)),e]);s&&i();return o().length>0?(c({args:e,pendingPromise:t}),a):(c({args:e,pendingPromise:t}),setTimeout(i,r),a)}}}async function Cs(e,t){const{account:n=e.account,batch:r=Boolean(e.batch?.multicall),blockNumber:a,blockTag:i="latest",accessList:s,blobs:o,code:c,data:u,factory:l,factoryData:d,gas:p,gasPrice:f,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:h,to:g,value:w,stateOverride:v,...x}=t,T=n?Rr(n):void 0;if(c&&(l||d))throw new Nt("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&g)throw new Nt("Cannot provide both `code` & `to` as parameters.");const P=c&&u,E=l&&d&&g&&u,$=P||E,B=P?function(e){const{code:t,data:n}=e;return js({abi:Et(["constructor(bytes, bytes)"]),bytecode:$s,args:[t,n]})}({code:c,data:u}):E?function(e){const{data:t,factory:n,factoryData:r,to:a}=e;return js({abi:Et(["constructor(address, bytes, address, bytes)"]),bytecode:Bs,args:[a,t,n,r]})}({data:u,factory:l,factoryData:d,to:g}):u;try{xi(t);const n=(a?wn(a):void 0)||i,c=vi(v),u=e.chain?.formatters?.transactionRequest?.format,l=(u||hi)({...mi(x,{format:u}),from:T?.address,accessList:s,blobs:o,data:B,gas:p,gasPrice:f,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:b,nonce:h,to:$?void 0:g,value:w});if(r&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(Es)&&(!!n&&!(Object.values(r).filter((e=>void 0!==e)).length>0)))}({request:l})&&!c)try{return await async function(e,t){const{batchSize:n=1024,wait:r=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:a,blockTag:i="latest",data:s,multicallAddress:o,to:c}=t;let u=o;if(!u){if(!e.chain)throw new Os;u=Fs({blockNumber:a,chain:e.chain,contract:"multicall3"})}const l=a?wn(a):void 0,d=l||i,{schedule:p}=Ms({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*n},fn:async t=>{const n=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),r=Dr({abi:hs,args:[n],functionName:"aggregate3"}),a=await e.request({method:"eth_call",params:[{data:r,to:u},d]});return bs({abi:hs,args:[n],functionName:"aggregate3",data:a||"0x"})}}),[{returnData:f,success:m}]=await p({data:s,to:c});if(!m)throw new Ia({data:f});return"0x"===f?{data:void 0}:{data:f}}(e,{...l,blockNumber:a,blockTag:i})}catch(e){if(!(e instanceof Os||e instanceof ks))throw e}const d=await e.request({method:"eth_call",params:c?[l,n,c]:[l,n]});return"0x"===d?{data:void 0}:{data:d}}catch(n){const r=function(e){if(!(e instanceof Nt))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(n),{offchainLookup:a,offchainLookupSignature:i}=await import("./ccip-13ec2f09.js");if(!1!==e.ccipRead&&r?.slice(0,10)===i&&g)return{data:await a(e,{data:r,to:g})};if($&&"0x101bb98d"===r?.slice(0,10))throw new Ba({factory:l});throw function(e,{docsPath:t,...n}){const r=(()=>{const t=fi(e,n);return t instanceof pi?e:t})();return new Ta(r,{docsPath:t,...n})}(n,{...t,account:T,chain:e.chain})}}async function zs(e,t){const{abi:n,address:r,args:a,functionName:i,...s}=t,o=Dr({abi:n,args:a,functionName:i});try{const{data:t}=await $t(e,Cs,"call")({...s,data:o,to:r});return bs({abi:n,args:a,functionName:i,data:t||"0x"})}catch(e){throw Qa(e,{abi:n,address:r,args:a,docsPath:"/docs/contract/readContract",functionName:i})}}const Rs=new Map,_s=new Map;let Ds=0;function Us(e,t,n){const r=++Ds,a=()=>Rs.get(e)||[],i=()=>{const t=_s.get(e);1===a().length&&t&&t(),(()=>{const t=a();Rs.set(e,t.filter((e=>e.id!==r)))})()},s=a();if(Rs.set(e,[...s,{id:r,fns:t}]),s&&s.length>0)return i;const o={};for(const e in t)o[e]=(...t)=>{const n=a();if(0!==n.length)for(const r of n)r.fns[e]?.(...t)};const c=n(o);return"function"==typeof c&&_s.set(e,c),i}async function Ls(e){return new Promise((t=>setTimeout(t,e)))}function Gs(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let a=!0;const i=()=>a=!1;return(async()=>{let s;t&&(s=await e({unpoll:i}));const o=await(n?.(s))??r;await Ls(o);const c=async()=>{a&&(await e({unpoll:i}),await Ls(r),c())};c()})(),i}const qs=new Map,Hs=new Map;async function Vs(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,qs),r=t(e,Hs);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),a=r.response.get();if(a&&n>0){if((new Date).getTime()-a.created.getTime()<n)return a.data}let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const e=await i;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}const Zs=e=>`blockNumber.${e}`;async function Ws(e,{cacheTime:t=e.cacheTime}={}){const n=await Vs((()=>e.request({method:"eth_blockNumber"})),{cacheKey:Zs(e.uid),cacheTime:t});return BigInt(n)}async function Ks(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const a=r.map((e=>ps(e)));return"abi"in t&&t.abi?ds({abi:t.abi,logs:a,strict:n}):a}async function Ys(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}class Js extends Nt{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}const Xs=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}],Qs=256;let eo,to=Qs;function no(e=11){if(!eo||to+e>2*Qs){eo="",to=0;for(let e=0;e<Qs;e++)eo+=(256+256*Math.random()|0).toString(16).substring(1)}return eo.substring(to,to+++e)}const ro=new pr(8192);function ao(e,{delay:t=100,retryCount:n=2,shouldRetry:r=(()=>!0)}={}){return new Promise(((a,i)=>{const s=async({count:o=0}={})=>{try{const t=await e();a(t)}catch(e){if(o<n&&await r({count:o,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:o,error:e}):t;n&&await Ls(n),s({count:o+1})})({error:e});i(e)}};s()}))}function io(e,t={}){return async(n,r={})=>{const{dedupe:a=!1,retryDelay:i=150,retryCount:s=3,uid:o}={...t,...r};return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(ro.get(n))return ro.get(n);const r=e().finally((()=>ro.delete(n)));return ro.set(n,r),r}((()=>ao((async()=>{try{return await e(n)}catch(e){const t=e;switch(t.code){case Fa.code:throw new Fa(t);case Sa.code:throw new Sa(t);case Ma.code:throw new Ma(t);case Ca.code:throw new Ca(t);case za.code:throw new za(t);case Ra.code:throw new Ra(t);case _a.code:throw new _a(t);case Da.code:throw new Da(t);case Ua.code:throw new Ua(t);case La.code:throw new La(t);case Ga.code:throw new Ga(t);case qa.code:throw new qa(t);case Ha.code:throw new Ha(t);case Va.code:throw new Va(t);case Za.code:throw new Za(t);case Wa.code:throw new Wa(t);case Ka.code:throw new Ka(t);case Ya.code:throw new Ya(t);case 5e3:throw new Ha(t);default:if(e instanceof Nt)throw e;throw new Ja(t)}}}),{delay:({count:e,error:t})=>{if(t&&t instanceof ka){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return(1<<e)*i},retryCount:s,shouldRetry:({error:e})=>function(e){if("code"in e&&"number"==typeof e.code)return-1===e.code||(e.code===Ga.code||e.code===za.code);if(e instanceof ka&&e.status)return 403===e.status||(408===e.status||(413===e.status||(429===e.status||(500===e.status||(502===e.status||(503===e.status||504===e.status))))));return!0}(e)})),{enabled:a,id:a?sr(xn(`${o}.${aa(n)}`)):void 0})}}class so extends Nt{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function oo(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const co=oo();function uo(e,t={}){return{async request(n){const{body:r,onRequest:a=t.onRequest,onResponse:i=t.onResponse,timeout:s=t.timeout??1e4}=n,o={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=o;try{const t=await function(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise(((a,i)=>{(async()=>{let s;try{const o=new AbortController;n>0&&(s=setTimeout((()=>{r?o.abort():i(t)}),n)),a(await e({signal:o?.signal||null}))}catch(e){"AbortError"===e?.name&&i(t),i(e)}finally{clearTimeout(s)}})()}))}((async({signal:t})=>{const n={...o,body:Array.isArray(r)?aa(r.map((e=>({jsonrpc:"2.0",id:e.id??co.take(),...e})))):aa({jsonrpc:"2.0",id:r.id??co.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:l||(s>0?t:null)},i=new Request(e,n);a&&await a(i);return await fetch(e,n)}),{errorInstance:new Aa({body:r,url:e}),timeout:s,signal:!0});let n;if(i&&await i(t),t.headers.get("Content-Type")?.startsWith("application/json")?n=await t.json():(n=await t.text(),n=JSON.parse(n||"{}")),!t.ok)throw new ka({body:r,details:aa(n.error)||t.statusText,headers:t.headers,status:t.status,url:e});return n}catch(t){if(t instanceof ka)throw t;if(t instanceof Aa)throw t;throw new ka({body:r,cause:t,url:e})}}}}function lo(e,t={}){const{batch:n,fetchOptions:r,key:a="http",name:i="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:o,retryDelay:c}=t;return({chain:u,retryCount:l,timeout:d})=>{const{batchSize:p=1e3,wait:f=0}="object"==typeof n?n:{},m=t.retryCount??l,y=d??t.timeout??1e4,b=e||u?.rpcUrls.default.http[0];if(!b)throw new so;const h=uo(b,{fetchOptions:r,onRequest:s,onResponse:o,timeout:y});return function({key:e,name:t,request:n,retryCount:r=3,retryDelay:a=150,timeout:i,type:s},o){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:a,timeout:i,type:s},request:io(n,{retryCount:r,retryDelay:a,uid:no()}),value:o}}({key:a,name:i,async request({method:e,params:t}){const r={method:e,params:t},{schedule:a}=Ms({id:b,wait:f,shouldSplitBatch:e=>e.length>p,fn:e=>h.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:i,result:s}]=await(async e=>n?a(e):[await h.request({body:e})])(r);if(i)throw new Oa({body:r,error:i,url:b});return s},retryCount:m,retryDelay:c,timeout:y,type:"http"},{fetchOptions:r,url:b})}}function po(e,t){if(!(e instanceof Nt))return!1;const n=e.walk((e=>e instanceof Ea));return n instanceof Ea&&("ResolverNotFound"===n.data?.errorName||("ResolverWildcardNotSupported"===n.data?.errorName||("ResolverNotContract"===n.data?.errorName||("ResolverError"===n.data?.errorName||("HttpError"===n.data?.errorName||(!!n.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&n.reason===Ur[50]))))))}function fo(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return kt(t)?t:null}function mo(e){let t=new Uint8Array(32).fill(0);if(!e)return gn(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=fo(n[e]),a=r?Pn(r):sr(In(n[e]),"bytes");t=sr(gr([t,a]),"bytes")}return gn(t)}function yo(e){return`[${e.slice(2)}]`}function bo(e){const t=new Uint8Array(32).fill(0);return e?fo(e)||sr(In(e)):gn(t)}function ho(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array(In(t).byteLength+2);let r=0;const a=t.split(".");for(let e=0;e<a.length;e++){let t=In(a[e]);t.byteLength>255&&(t=In(yo(bo(a[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}class go extends Nt{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class wo extends Nt{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class vo extends Nt{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class xo extends Nt{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const To=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Po=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Eo=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,$o=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Bo(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Io({uri:e,gatewayUrls:t}){const n=Eo.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Bo(t?.ipfs,"https://ipfs.io"),a=Bo(t?.arweave,"https://arweave.net"),i=e.match(To),{protocol:s,subpath:o,target:c,subtarget:u=""}=i?.groups||{},l="ipns:/"===s||"ipns/"===o,d="ipfs:/"===s||"ipfs/"===o||Po.test(e);if(e.startsWith("http")&&!l&&!d){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&c)return{uri:`${a}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace($o,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new vo({uri:e})}function ko(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new go({data:e});return e.image||e.image_url||e.image_data}async function Oo({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Io({uri:t,gatewayUrls:e});if(r)return n;const a=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e}))}}(n);if(a)return n;throw new vo({uri:t})}async function Ao(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,a]=t.split("/"),[i,s]=n.split(":"),[o,c]=r.split(":");if(!i||"eip155"!==i.toLowerCase())throw new wo({reason:"Only EIP-155 supported"});if(!s)throw new wo({reason:"Chain ID not found"});if(!c)throw new wo({reason:"Contract address not found"});if(!a)throw new wo({reason:"Token ID not found"});if(!o)throw new wo({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s),namespace:o.toLowerCase(),contractAddress:c,tokenID:a}}(n),a=await async function(e,{nft:t}){if("erc721"===t.namespace)return zs(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return zs(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new xo({namespace:t.namespace})}(e,{nft:r}),{uri:i,isOnChain:s,isEncoded:o}=Io({uri:a,gatewayUrls:t});if(s&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const e=o?atob(i.replace("data:application/json;base64,","")):i;return Oo({uri:ko(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then((e=>e.json()));return await Oo({gatewayUrls:e,uri:ko(n)})}catch{throw new vo({uri:t})}}({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):Oo({uri:n,gatewayUrls:t})}async function No(e,{blockNumber:t,blockTag:n,name:r,key:a,gatewayUrls:i,strict:s,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Fs({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const s={address:c,abi:ws,functionName:"resolve",args:[bn(ho(r)),Dr({abi:xs,functionName:"text",args:[mo(r),a]})],blockNumber:t,blockTag:n},o=$t(e,zs,"readContract"),u=i?await o({...s,args:[...s.args,i]}):await o(s);if("0x"===u[0])return null;const l=bs({abi:xs,functionName:"text",data:u[0]});return""===l?null:l}catch(e){if(s)throw e;if(po(e,"resolve"))return null;throw e}}async function jo(e,{address:t,args:n,event:r,events:a,fromBlock:i,strict:s,toBlock:o}={}){const c=a??(r?[r]:void 0),u=Cr(e,{method:"eth_newFilter"});let l=[];if(c){const e=c.flatMap((e=>Sr({abi:[e],eventName:e.name,args:n})));l=[e],r&&(l=l[0])}const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof i?wn(i):i,toBlock:"bigint"==typeof o?wn(o):o,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:Boolean(s),toBlock:o,type:"event"}}async function Fo(e){const t=Cr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function So(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=void 0!==n?wn(n):void 0,i=await e.request({method:"eth_getCode",params:[t,a||r]},{dedupe:Boolean(a)});if("0x"!==i)return i}async function Mo(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:a}){const i=n?wn(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[wn(t),i||r,a]},{dedupe:Boolean(i)}))}function Co(e,t){if(!hr(e,{strict:!1}))throw new dr({address:e});if(!hr(t,{strict:!1}))throw new dr({address:t});return e.toLowerCase()===t.toLowerCase()}function zo(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Ro=/^(.*)\[([0-9]*)\]$/,_o=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Do=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Uo(e){const{domain:t={},message:n,primaryType:r}=e,a={EIP712Domain:Zo({domain:t}),...e.types};!function(e){const{domain:t,message:n,primaryType:r,types:a}=e,i=(e,t)=>{for(const n of e){const{name:e,type:r}=n,s=t[e],o=r.match(Do);if(o&&("number"==typeof s||"bigint"==typeof s)){const[e,t,n]=o;wn(s,{signed:"int"===t,size:Number.parseInt(n)/8})}if("address"===r&&"string"==typeof s&&!hr(s))throw new dr({address:s});const c=r.match(_o);if(c){const[e,t]=c;if(t&&Ot(s)!==Number.parseInt(t))throw new Zt({expectedSize:Number.parseInt(t),givenSize:Ot(s)})}const u=a[r];u&&i(u,s)}};a.EIP712Domain&&t&&i(a.EIP712Domain,t);"EIP712Domain"!==r&&i(a[r],n)}({domain:t,message:n,primaryType:r,types:a});const i=["0x1901"];return t&&i.push(function({domain:e,types:t}){return Lo({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:a})),"EIP712Domain"!==r&&i.push(Lo({data:n,primaryType:r,types:a})),sr(gr(i))}function Lo({data:e,primaryType:t,types:n}){return sr(Go({data:e,primaryType:t,types:n}))}function Go({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],a=[qo({primaryType:t,types:n})];for(const i of n[t]){const[t,s]=Vo({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(t),a.push(s)}return $r(r,a)}function qo({primaryType:e,types:t}){const n=bn(function({primaryType:e,types:t}){let n="";const r=Ho({primaryType:e,types:t});r.delete(e);const a=[e,...Array.from(r).sort()];for(const e of a)n+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return n}({primaryType:e,types:t}));return sr(n)}function Ho({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),a=r?.[0];if(n.has(a)||void 0===t[a])return n;n.add(a);for(const e of t[a])Ho({primaryType:e.type,types:t},n);return n}function Vo({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},sr(Go({data:r,primaryType:n,types:e}))];if("bytes"===n){return[{type:"bytes32"},sr(r=`0x${(r.length%2?"0":"")+r.slice(2)}`)]}if("string"===n)return[{type:"bytes32"},sr(bn(r))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),i=r.map((n=>Vo({name:t,type:a,types:e,value:n})));return[{type:"bytes32"},sr($r(i.map((([e])=>e)),i.map((([,e])=>e))))]}return[{type:n},r]}function Zo({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Wo(e,t){if(e.length!==t.length)throw new _t({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const a=e[r],i=t[r];n.push(Ko(a,i))}return wr(n)}function Ko(e,t,n=!1){if("address"===e){const e=t;if(!hr(e))throw new dr({address:e});return sn(e.toLowerCase(),{size:n?32:null})}if("string"===e)return xn(t);if("bytes"===e)return t;if("bool"===e)return sn(hn(t),{size:n?32:1});const r=e.match(Do);if(r){const[e,a,i="256"]=r,s=Number.parseInt(i)/8;return wn(t,{size:n?32:s,signed:"int"===a})}const a=e.match(_o);if(a){const[e,r]=a;if(Number.parseInt(r)!==(t.length-2)/2)throw new Zt({expectedSize:Number.parseInt(r),givenSize:(t.length-2)/2});return sn(t,{dir:"right",size:n?32:null})}const i=e.match(Ro);if(i&&Array.isArray(t)){const[e,n]=i,r=[];for(let e=0;e<t.length;e++)r.push(Ko(n,t[e],!0));return 0===r.length?"0x":wr(r)}throw new en(e)}function Yo(e,t="hex"){const n=Jo(e),r=Wr(new Uint8Array(n.length));return n.encode(r),"hex"===t?gn(r.bytes):r.bytes}function Jo(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=Xo(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));for(const{encode:t}of e)t(r)}}}(e.map((e=>Jo(e)))):function(e){const t="string"==typeof e?Bn(e):e,n=Xo(t.length),r=1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length;return{length:r,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function Xo(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Nt("Length is too large.")}const Qo={"0x0":"reverted","0x1":"success"};function ec(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>ps(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?mn(e.transactionIndex):null,status:e.status?Qo[e.status]:null,type:e.type?Bi[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const tc=yi("transactionReceipt",ec),nc="Ethereum Signed Message:\n";function rc(e,t){return sr(function(e){const t="string"==typeof e?xn(e):"string"==typeof e.raw?e.raw:gn(e.raw);return gr([xn(`${nc}${Ot(t)}`),t])}(e),t)}const ac="0x6492649264926492649264926492649264926492649264926492649264926492";function ic(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:a}=e;if(t<=0)throw new As({chainId:t});if(a&&!hr(a))throw new dr({address:a});if(r&&r>2n**256n-1n)throw new ni({maxFeePerGas:r});if(n&&r&&n>r)throw new di({maxFeePerGas:r,maxPriorityFeePerGas:n})}function sc(e){if(!e||0===e.length)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:a}=e[n];for(let e=0;e<a.length;e++)if(a[e].length-2!=64)throw new ga({storageKey:a[e]});if(!hr(r,{strict:!1}))throw new dr({address:r});t.push([r,a])}return t}function oc(e,t){const n=rs(e);return"eip1559"===n?function(e,t){const{chainId:n,gas:r,nonce:a,to:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:u,data:l}=e;ic(e);const d=sc(u),p=[bn(n),a?bn(a):"0x",c?bn(c):"0x",o?bn(o):"0x",r?bn(r):"0x",i??"0x",s?bn(s):"0x",l??"0x",d,...cc(e,t)];return wr(["0x02",Yo(p)])}(e,t):"eip2930"===n?function(e,t){const{chainId:n,gas:r,data:a,nonce:i,to:s,value:o,accessList:c,gasPrice:u}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:a,to:i}=e;if(t<=0)throw new As({chainId:t});if(i&&!hr(i))throw new dr({address:i});if(n||a)throw new Nt("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new ni({maxFeePerGas:r})}(e);const l=sc(c),d=[bn(n),i?bn(i):"0x",u?bn(u):"0x",r?bn(r):"0x",s??"0x",o?bn(o):"0x",a??"0x",l,...cc(e,t)];return wr(["0x01",Yo(d)])}(e,t):"eip4844"===n?function(e,t){const{chainId:n,gas:r,nonce:a,to:i,value:s,maxFeePerBlobGas:o,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;!function(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new Qi;for(const e of t){const t=Ot(e),n=mn(vr(e,0,1));if(32!==t)throw new es({hash:e,size:t});if(n!==Ji)throw new ts({hash:e,version:n})}}ic(e)}(e);let p=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(void 0===p||void 0===f)){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>gn(e))),n=e.kzg,r=Ci({blobs:t,kzg:n});if(void 0===p&&(p=Vi({commitments:r})),void 0===f){f=ns({blobs:t,commitments:r,proofs:zi({blobs:t,commitments:r,kzg:n})})}}const m=sc(l),y=[bn(n),a?bn(a):"0x",u?bn(u):"0x",c?bn(c):"0x",r?bn(r):"0x",i??"0x",s?bn(s):"0x",d??"0x",m,o?bn(o):"0x",p??[],...cc(e,t)],b=[],h=[],g=[];if(f)for(let e=0;e<f.length;e++){const{blob:t,commitment:n,proof:r}=f[e];b.push(t),h.push(n),g.push(r)}return wr(["0x03",Yo(f?[y,b,h,g]:y)])}(e,t):function(e,t){const{chainId:n=0,gas:r,data:a,nonce:i,to:s,value:o,gasPrice:c}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:a,to:i,accessList:s}=e;if(i&&!hr(i))throw new dr({address:i});if(void 0!==t&&t<=0)throw new As({chainId:t});if(n||a)throw new Nt("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new ni({maxFeePerGas:r});if(s)throw new Nt("`accessList` is not a valid Legacy Transaction attribute.")}(e);let u=[i?bn(i):"0x",c?bn(c):"0x",r?bn(r):"0x",s??"0x",o?bn(o):"0x",a??"0x"];if(t){const e=(()=>{if(t.v>=35n){return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n)}if(n>0)return BigInt(2*n)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new ba({v:t.v});return e})();u=[...u,bn(e),t.r,t.s]}else n>0&&(u=[...u,bn(n),"0x","0x"]);return Yo(u)}(e,t)}function cc(e,t){const n=t??e,{v:r,yParity:a}=n;if(void 0===n.r)return[];if(void 0===n.s)return[];if(void 0===r&&void 0===a)return[];const i=dn(n.r),s=dn(n.s);return["number"==typeof a?a?bn(1):"0x":0n===r?"0x":1n===r?bn(1):27n===r?"0x":bn(1),"0x00"===i?"0x":i,"0x00"===s?"0x":s]}async function uc(e,{address:t,blockNumber:n,blockTag:r,storageKeys:a}){const i=r??"latest",s=void 0!==n?wn(n):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?mn(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map((e=>({...e,value:BigInt(e.value)})))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,a,s||i]}))}async function lc(e,{blockHash:t,blockNumber:n,blockTag:r,hash:a,index:i}){const s=r||"latest",o=void 0!==n?wn(n):void 0;let c=null;if(a?c=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,wn(i)]},{dedupe:!0}):(o||s)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||s,wn(i)]},{dedupe:Boolean(o)})),!c)throw new wa({blockHash:t,blockNumber:n,blockTag:s,hash:a,index:i});return(e.chain?.formatters?.transaction?.format||Ii)(c)}async function dc(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new va({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ec)(n)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const pc=BigInt(0),fc=BigInt(1),mc=BigInt(2);function yc(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function bc(e){if(!yc(e))throw new Error("Uint8Array expected")}const hc=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function gc(e){bc(e);let t="";for(let n=0;n<e.length;n++)t+=hc[e[n]];return t}function wc(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function vc(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const xc={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Tc(e){return e>=xc._0&&e<=xc._9?e-xc._0:e>=xc._A&&e<=xc._F?e-(xc._A-10):e>=xc._a&&e<=xc._f?e-(xc._a-10):void 0}function Pc(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,a=0;t<n;t++,a+=2){const n=Tc(e.charCodeAt(a)),i=Tc(e.charCodeAt(a+1));if(void 0===n||void 0===i){const t=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+a)}r[t]=16*n+i}return r}function Ec(e){return vc(gc(e))}function $c(e){return bc(e),vc(gc(Uint8Array.from(e).reverse()))}function Bc(e,t){return Pc(e.toString(16).padStart(2*t,"0"))}function Ic(e,t){return Bc(e,t).reverse()}function kc(e,t,n){let r;if("string"==typeof t)try{r=Pc(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!yc(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const a=r.length;if("number"==typeof n&&a!==n)throw new Error(`${e} expected ${n} bytes, got ${a}`);return r}function Oc(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];bc(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const a=e[t];n.set(a,r),r+=a.length}return n}function Ac(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}const Nc=e=>(mc<<BigInt(e-1))-fc,jc=e=>new Uint8Array(e),Fc=e=>Uint8Array.from(e);function Sc(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=jc(e),a=jc(e),i=0;const s=()=>{r.fill(1),a.fill(0),i=0},o=(...e)=>n(a,r,...e),c=(e=jc())=>{a=o(Fc([0]),e),r=o(),0!==e.length&&(a=o(Fc([1]),e),r=o())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return Oc(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(u()));)c();return s(),n}}const Mc={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||yc(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Cc(e,t,n={}){const r=(t,n,r)=>{const a=Mc[n];if("function"!=typeof a)throw new Error(`Invalid validator "${n}", expected function`);const i=e[t];if(!(r&&void 0===i||a(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}var zc=Object.freeze({__proto__:null,abytes:bc,bitGet:function(e,t){return e>>BigInt(t)&fc},bitLen:function(e){let t;for(t=0;e>pc;e>>=fc,t+=1);return t},bitMask:Nc,bitSet:function(e,t,n){return e|(n?fc:pc)<<BigInt(t)},bytesToHex:gc,bytesToNumberBE:Ec,bytesToNumberLE:$c,concatBytes:Oc,createHmacDrbg:Sc,ensureBytes:kc,equalBytes:Ac,hexToBytes:Pc,hexToNumber:vc,isBytes:yc,numberToBytesBE:Bc,numberToBytesLE:Ic,numberToHexUnpadded:wc,numberToVarBytesBE:function(e){return Pc(wc(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},validateObject:Cc});
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Rc=BigInt(0),_c=BigInt(1),Dc=BigInt(2),Uc=BigInt(3),Lc=BigInt(4),Gc=BigInt(5),qc=BigInt(8);function Hc(e,t){const n=e%t;return n>=Rc?n:t+n}function Vc(e,t,n){if(n<=Rc||t<Rc)throw new Error("Expected power/modulo > 0");if(n===_c)return Rc;let r=_c;for(;t>Rc;)t&_c&&(r=r*e%n),e=e*e%n,t>>=_c;return r}function Zc(e,t,n){let r=e;for(;t-- >Rc;)r*=r,r%=n;return r}function Wc(e,t){if(e===Rc||t<=Rc)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Hc(e,t),r=t,a=Rc,i=_c;for(;n!==Rc;){const e=r%n,t=a-i*(r/n);r=n,n=e,a=i,i=t}if(r!==_c)throw new Error("invert: does not exist");return Hc(a,t)}function Kc(e){if(e%Lc===Uc){const t=(e+_c)/Lc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%qc===Gc){const t=(e-Gc)/qc;return function(e,n){const r=e.mul(n,Dc),a=e.pow(r,t),i=e.mul(n,a),s=e.mul(e.mul(i,Dc),a),o=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-_c)/Dc;let n,r,a;for(n=e-_c,r=0;n%Dc===Rc;n/=Dc,r++);for(a=Dc;a<e&&Vc(a,t,e)!==e-_c;a++);if(1===r){const t=(e+_c)/Lc;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const i=(n+_c)/Dc;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,c=e.pow(e.mul(e.ONE,a),n),u=e.pow(s,i),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<o&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,_c<<BigInt(o-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),o=t}return u}}(e)}BigInt(9),BigInt(16);const Yc=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Jc(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Xc(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Qc(e){const t=Xc(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const eu=BigInt(0),tu=BigInt(1);function nu(e){return Cc(e.Fp,Yc.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Cc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Jc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const{bytesToNumberBE:ru,hexToBytes:au}=zc,iu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=iu;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ru(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=iu,n="string"==typeof e?au(e):e;bc(n);let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:a,l:i}=iu._parseInt(n.subarray(2)),{d:s,l:o}=iu._parseInt(i);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),a=t(n(e.r)),i=r.length/2,s=a.length/2,o=n(i),c=n(s);return`30${n(s+i+4)}02${c}${a}02${o}${r}`}},su=BigInt(0),ou=BigInt(1);BigInt(2);const cu=BigInt(3);function uu(e){const t=function(e){const t=nu(e);Cc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:a}=t;if(n){if(!r.eql(a,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const a=t.toAffine();return Oc(Uint8Array.from([4]),n.toBytes(a.x),n.toBytes(a.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function i(e){const{a:r,b:a}=t,i=n.sqr(e),s=n.mul(i,e);return n.add(n.add(s,n.mul(e,r)),a)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&su<e&&e<t.n}function o(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:a,n:i}=t;if(n&&"bigint"!=typeof e){if(yc(e)&&(e=gc(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:Ec(kc("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return a&&(s=Hc(s,i)),o(s),s}const u=new Map;function l(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const a=e=>n.eql(e,n.ZERO);return a(t)&&a(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(a(kc("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const a=n.sqr(r),s=i(e);if(!n.eql(a,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:a}=this,{px:i,py:s,pz:o}=e,c=n.eql(n.mul(t,o),n.mul(i,a)),u=n.eql(n.mul(r,o),n.mul(s,a));return c&&u}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,a=n.mul(r,cu),{px:i,py:s,pz:o}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,p=n.mul(i,i),f=n.mul(s,s),m=n.mul(o,o),y=n.mul(i,s);return y=n.add(y,y),l=n.mul(i,o),l=n.add(l,l),c=n.mul(e,l),u=n.mul(a,m),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(y,c),l=n.mul(a,l),m=n.mul(e,m),y=n.sub(p,m),y=n.mul(e,y),y=n.add(y,l),l=n.add(p,p),p=n.add(l,p),p=n.add(p,m),p=n.mul(p,y),u=n.add(u,p),m=n.mul(s,o),m=n.add(m,m),p=n.mul(m,y),c=n.sub(c,p),l=n.mul(m,f),l=n.add(l,l),l=n.add(l,l),new d(c,u,l)}add(e){l(e);const{px:r,py:a,pz:i}=this,{px:s,py:o,pz:c}=e;let u=n.ZERO,p=n.ZERO,f=n.ZERO;const m=t.a,y=n.mul(t.b,cu);let b=n.mul(r,s),h=n.mul(a,o),g=n.mul(i,c),w=n.add(r,a),v=n.add(s,o);w=n.mul(w,v),v=n.add(b,h),w=n.sub(w,v),v=n.add(r,i);let x=n.add(s,c);return v=n.mul(v,x),x=n.add(b,g),v=n.sub(v,x),x=n.add(a,i),u=n.add(o,c),x=n.mul(x,u),u=n.add(h,g),x=n.sub(x,u),f=n.mul(m,v),u=n.mul(y,g),f=n.add(u,f),u=n.sub(h,f),f=n.add(h,f),p=n.mul(u,f),h=n.add(b,b),h=n.add(h,b),g=n.mul(m,g),v=n.mul(y,v),h=n.add(h,g),g=n.sub(b,g),g=n.mul(m,g),v=n.add(v,g),b=n.mul(h,v),p=n.add(p,b),b=n.mul(x,v),u=n.mul(w,u),u=n.sub(u,b),b=n.mul(w,h),f=n.mul(x,f),f=n.add(f,b),new d(u,p,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===su)return r;if(o(e),e===ou)return this;const{endo:a}=t;if(!a)return f.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:c,k2:u}=a.splitScalar(e),l=r,p=r,m=this;for(;s>su||u>su;)s&ou&&(l=l.add(m)),u&ou&&(p=p.add(m)),m=m.double(),s>>=ou,u>>=ou;return i&&(l=l.negate()),c&&(p=p.negate()),p=new d(n.mul(p.px,a.beta),p.py,p.pz),l.add(p)}multiply(e){o(e);let r,a,i=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:o,k2:c}=s.splitScalar(i);let{p:u,f:l}=this.wNAF(t),{p:p,f:m}=this.wNAF(c);u=f.constTimeNegate(e,u),p=f.constTimeNegate(o,p),p=new d(n.mul(p.px,s.beta),p.py,p.pz),r=u.add(p),a=l.add(m)}else{const{p:e,f:t}=this.wNAF(i);r=e,a=t}return d.normalizeZ([r,a])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,a=(e,t)=>t!==su&&t!==ou&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),i=a(this,t).add(a(e,n));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:a}=this,i=this.is0();null==e&&(e=i?n.ONE:n.inv(a));const s=n.mul(t,e),o=n.mul(r,e),c=n.mul(a,e);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===ou)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===ou?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(d,this,e)}toHex(e=!0){return gc(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,a=t;for(;n>eu;)n&tu&&(r=r.add(a)),a=a.double(),n>>=tu;return r},precomputeWindow(e,t){const{windows:n,windowSize:a}=r(t),i=[];let s=e,o=s;for(let e=0;e<n;e++){o=s,i.push(o);for(let e=1;e<a;e++)o=o.add(s),i.push(o);s=o.double()}return i},wNAF(t,a,i){const{windows:s,windowSize:o}=r(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),d=2**t,p=BigInt(t);for(let e=0;e<s;e++){const t=e*o;let r=Number(i&l);i>>=p,r>o&&(r-=d,i+=tu);const s=t,f=t+Math.abs(r)-1,m=e%2!=0,y=r<0;0===r?u=u.add(n(m,a[s])):c=c.add(n(y,a[f]))}return{p:c,f:u}},wNAFCached(e,t,n,r){const a=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,a),1!==a&&t.set(e,r(i))),this.wNAF(a,i,n)}}}(d,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function lu(e){const t=function(e){const t=nu(e);return Cc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,a=n.BYTES+1,i=2*n.BYTES+1;function s(e){return Hc(e,r)}function o(e){return Wc(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=uu({...t,toBytes(e,t,r){const a=t.toAffine(),i=n.toBytes(a.x),s=Oc;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(a.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==a||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${a} compressed bytes or ${i} uncompressed bytes`)}{const e=Ec(s);if(!(su<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let a;try{a=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((a&ou)===ou)&&(a=n.neg(a)),{x:e,y:a}}var o}}),p=e=>gc(Bc(e,t.nByteLength));function f(e){return e>r>>ou}const m=(e,t,n)=>Ec(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=kc("compactSignature",e,2*n),new y(m(e,0,n),m(e,n,2*n))}static fromDER(e){const{r:t,s:n}=iu.toSig(kc("DER",e));return new y(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:a,recovery:i}=this,u=w(kc("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&i?"03":"02",f=c.fromHex(d+p(l)),m=o(l),y=s(-u*m),b=s(a*m),h=c.BASE.multiplyAndAddUnsafe(f,y,b);if(!h)throw new Error("point at infinify");return h.assertValidity(),h}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Pc(this.toDERHex())}toDERHex(){return iu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Pc(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const b={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Qc(t.n);return function(e,t,n=!1){const r=e.length,a=Xc(t),i=Qc(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const s=Hc(n?Ec(e):$c(e),t-_c)+_c;return n?Ic(s,a):Bc(s,a)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function h(e){const t=yc(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===a||r===i:n?r===2*a||r===2*i:e instanceof c}const g=t.bits2int||function(e){const n=Ec(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return s(g(e))},v=Nc(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(su<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Bc(e,t.nByteLength)}function T(e,r,a=P){if(["recovered","canonical"].some((e=>e in a)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:l}=t;let{lowS:p,prehash:m,extraEntropy:b}=a;null==p&&(p=!0),e=kc("msgHash",e),m&&(e=kc("prehashed msgHash",i(e)));const h=w(e),v=u(r),T=[x(v),x(h)];if(null!=b&&!1!==b){const e=!0===b?l(n.BYTES):b;T.push(kc("extraEntropy",e))}const E=Oc(...T),$=h;return{seed:E,k2sig:function(e){const t=g(e);if(!d(t))return;const n=o(t),r=c.BASE.multiply(t).toAffine(),a=s(r.x);if(a===su)return;const i=s(n*s($+a*v));if(i===su)return;let u=(r.x===a?0:2)|Number(r.y&ou),l=i;return p&&f(i)&&(l=function(e){return f(e)?s(-e):e}(i),u^=1),new y(a,l,u)}}}const P={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(h(e))throw new Error("first arg must be private key");if(!h(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n,r=P){const{seed:a,k2sig:i}=T(e,n,r),s=t;return Sc(s.hash.outputLen,s.nByteLength,s.hmac)(a,i)},verify:function(e,n,r,a=E){const i=e;if(n=kc("msgHash",n),r=kc("publicKey",r),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=a;let d,p;try{if("string"==typeof i||yc(i))try{d=y.fromDER(i)}catch(e){if(!(e instanceof iu.Err))throw e;d=y.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;d=new y(e,t)}}p=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;l&&(n=t.hash(n));const{r:f,s:m}=d,b=w(n),h=o(m),g=s(b*h),v=s(f*h),x=c.BASE.multiplyAndAddUnsafe(p,g,v)?.toAffine();return!!x&&s(x.x)===f},ProjectivePoint:c,Signature:y,utils:b}}BigInt(4);class du extends Ln{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");kn(e.outputLen),kn(e.blockLen)}(e);const n=Un(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,a=new Uint8Array(r);a.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return An(this),this.iHash.update(e),this}digestInto(e){An(this),On(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:a,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=a,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const pu=(e,t,n)=>new du(e,t).update(n).digest();
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function fu(e){return{hash:e,hmac:(t,...n)=>pu(e,t,function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];On(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const a=e[t];n.set(a,r),r+=a.length}return n}(...n)),randomBytes:qn}}pu.create=(e,t)=>new du(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const mu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),yu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bu=BigInt(1),hu=BigInt(2),gu=(e,t)=>(e+t/hu)/t;const wu=function(e,t,n=!1,r={}){if(e<=Rc)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:i}=Jc(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Kc(e),o=Object.freeze({ORDER:e,BITS:a,BYTES:i,MASK:Nc(a),ZERO:Rc,ONE:_c,create:t=>Hc(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Rc<=t&&t<e},is0:e=>e===Rc,isOdd:e=>(e&_c)===_c,neg:t=>Hc(-t,e),eql:(e,t)=>e===t,sqr:t=>Hc(t*t,e),add:(t,n)=>Hc(t+n,e),sub:(t,n)=>Hc(t-n,e),mul:(t,n)=>Hc(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Rc)throw new Error("Expected power > 0");if(n===Rc)return e.ONE;if(n===_c)return t;let r=e.ONE,a=t;for(;n>Rc;)n&_c&&(r=e.mul(r,a)),a=e.sqr(a),n>>=_c;return r}(o,e,t),div:(t,n)=>Hc(t*Wc(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Wc(t,e),sqrt:r.sqrt||(e=>s(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,a)=>e.is0(r)?t:(n[a]=t,e.mul(t,r))),e.ONE),a=e.inv(r);return t.reduceRight(((t,r,a)=>e.is0(r)?t:(n[a]=e.mul(t,n[a]),e.mul(t,r))),a),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?Ic(e,i):Bc(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return n?$c(e):Ec(e)}});return Object.freeze(o)}(mu,void 0,void 0,{sqrt:function(e){const t=mu,n=BigInt(3),r=BigInt(6),a=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=Zc(l,n,t)*l%t,p=Zc(d,n,t)*l%t,f=Zc(p,hu,t)*u%t,m=Zc(f,a,t)*f%t,y=Zc(m,i,t)*m%t,b=Zc(y,o,t)*y%t,h=Zc(b,c,t)*b%t,g=Zc(h,o,t)*y%t,w=Zc(g,n,t)*l%t,v=Zc(w,s,t)*m%t,x=Zc(v,r,t)*u%t,T=Zc(x,hu,t);if(!wu.eql(wu.sqr(T),e))throw new Error("Cannot find square root");return T}}),vu=function(e,t){const n=t=>lu({...e,...fu(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:wu,n:yu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=yu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),o=gu(i*e,t),c=gu(-r*e,t);let u=Hc(e-o*n-c*a,t),l=Hc(-o*r-c*i,t);const d=u>s,p=l>s;if(d&&(u=t-u),p&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:p,k2:l}}}},qi);async function xu(e,t){const{address:n,factory:r,factoryData:a,hash:i,signature:s,...o}=t,c=kt(s)?s:"object"==typeof s&&"r"in s&&"s"in s?function({r:e,s:t,v:n,yParity:r}){const a=(()=>{if(0===r||1===r)return r;if(n&&(27n===n||28n===n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new vu.Signature(fn(e),fn(t)).toCompactHex()}${0===a?"1b":"1c"}`}(s):gn(s),u=await(async()=>{if(!r&&!a)return c;if(function(e){return Er(e,-32)===ac}(c))return c;return await $t(e,So,"getCode")({address:n})?c:function(e){const{address:t,data:n,signature:r}=e;return wr([$r([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),ac])}({address:r,data:a,signature:c})})();try{const{data:t}=await $t(e,Cs,"call")({data:js({abi:Ps,args:[n,i,u],bytecode:Is}),...o});return d="0x1",Ac(kt(l=t??"0x0")?Pn(l):l,kt(d)?Pn(d):d)}catch(e){if(e instanceof Ta)return!1;throw e}var l,d}function Tu(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:a,poll:i,pollingInterval:s=e.pollingInterval}){let o;return(void 0!==i?i:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?Us(aa(["watchBlockNumber",e.uid,t,n,s]),{onBlockNumber:r,onError:a},(r=>Gs((async()=>{try{const t=await $t(e,Ws,"getBlockNumber")({cacheTime:0});if(o){if(t===o)return;if(t-o>1&&n)for(let e=o+1n;e<t;e++)r.onBlockNumber(e,o),o=e}(!o||t>o)&&(r.onBlockNumber(t,o),o=t)}catch(e){r.onError?.(e)}}),{emitOnBegin:t,interval:s}))):Us(aa(["watchBlockNumber",e.uid,t,n]),{onBlockNumber:r,onError:a},(t=>{let n=!0,r=()=>n=!1;return(async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:i}=await a.subscribe({params:["newHeads"],onData(e){if(!n)return;const r=fn(e.result?.number);t.onBlockNumber(r,o),o=r},onError(e){t.onError?.(e)}});r=i,n||r()}catch(e){a?.(e)}})(),()=>r()}))}BigInt(0),vu.ProjectivePoint;const Pu=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Eu=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function $u(e,t){const{address:n,domain:r,message:a,nonce:i,scheme:s,signature:o,time:c=new Date,...u}=t,l=function(e){const{scheme:t,statement:n,...r}=e.match(Pu)?.groups??{},{chainId:a,expirationTime:i,issuedAt:s,notBefore:o,requestId:c,...u}=e.match(Eu)?.groups??{},l=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...r,...u,...a?{chainId:Number(a)}:{},...i?{expirationTime:new Date(i)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}(a);if(!l.address)return!1;const d=function(e){const{address:t,domain:n,message:r,nonce:a,scheme:i,time:s=new Date}=e;if(n&&r.domain!==n)return!1;if(a&&r.nonce!==a)return!1;if(i&&r.scheme!==i)return!1;if(r.expirationTime&&s>=r.expirationTime)return!1;if(r.notBefore&&s<r.notBefore)return!1;try{if(!r.address)return!1;if(t&&!Co(r.address,t))return!1}catch{return!1}return!0}({address:n,domain:r,message:l,nonce:i,scheme:s,time:c});if(!d)return!1;const p=rc(a);return xu(e,{address:l.address,hash:p,signature:o,...u})}function Bu(e){return{call:t=>Cs(e,t),createBlockFilter:()=>async function(e){const t=Cr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}(e),createContractEventFilter:t=>zr(e,t),createEventFilter:t=>jo(e,t),createPendingTransactionFilter:()=>Fo(e),estimateContractGas:t=>async function(e,t){const{abi:n,address:r,args:a,functionName:i,...s}=t,o=Dr({abi:n,args:a,functionName:i});try{return await $t(e,os,"estimateGas")({data:o,to:r,...s})}catch(e){const t=s.account?Rr(s.account):void 0;throw Qa(e,{abi:n,address:r,args:a,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:t?.address})}}(e,t),estimateGas:t=>os(e,t),getBalance:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=n?wn(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,a||r]});return BigInt(i)}(e,t),getBlobBaseFee:()=>async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}(e),getBlock:t=>Ni(e,t),getBlockNumber:t=>Ws(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const a=void 0!==n?wn(n):void 0;let i;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||r]},{dedupe:Boolean(a)}),mn(i)}(e,t),getBytecode:t=>So(e,t),getChainId:()=>as(e),getCode:t=>So(e,t),getContractEvents:t=>ms(e,t),getEip712Domain:t=>async function(e,t){const{address:n,factory:r,factoryData:a}=t;try{const[t,i,s,o,c,u,l]=await $t(e,zs,"readContract")({abi:Xs,address:n,functionName:"eip712Domain",factory:r,factoryData:a});return{domain:{name:i,version:s,chainId:Number(o),verifyingContract:c,salt:u},extensions:l,fields:t}}catch(e){const t=e;if("ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name)throw new Js({address:n});throw t}}(e,t),getEnsAddress:t=>async function(e,{blockNumber:t,blockTag:n,coinType:r,name:a,gatewayUrls:i,strict:s,universalResolverAddress:o}){let c=o;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=Fs({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const s=Dr({abi:Ts,functionName:"addr",...null!=r?{args:[mo(a),BigInt(r)]}:{args:[mo(a)]}}),o={address:c,abi:ws,functionName:"resolve",args:[bn(ho(a)),s],blockNumber:t,blockTag:n},u=$t(e,zs,"readContract"),l=i?await u({...o,args:[...o.args,i]}):await u(o);if("0x"===l[0])return null;const d=bs({abi:Ts,args:null!=r?[mo(a),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return"0x"===d||"0x00"===dn(d)?null:d}catch(e){if(s)throw e;if(po(e,"resolve"))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:a,gatewayUrls:i,strict:s,universalResolverAddress:o}){const c=await $t(e,No,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:a,universalResolverAddress:o,gatewayUrls:i,strict:s});if(!c)return null;try{return await Ao(e,{record:c,gatewayUrls:r})}catch{return null}}(e,t),getEnsName:t=>async function(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:a,strict:i,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Fs({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const i={address:o,abi:vs,functionName:"reverse",args:[bn(ho(c))],blockNumber:n,blockTag:r},s=$t(e,zs,"readContract"),[u,l]=a?await s({...i,args:[...i.args,a]}):await s(i);return t.toLowerCase()!==l.toLowerCase()?null:u}catch(e){if(i)throw e;if(po(e,"reverse"))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Fs({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[s]=await $t(e,zs,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[bn(ho(r))],blockNumber:t,blockTag:n});return s}(e,t),getEnsText:t=>No(e,t),getFeeHistory:t=>Mo(e,t),estimateFeesPerGas:t=>async function(e,t){return Si(e,t)}(e,t),getFilterChanges:e=>Ks(0,e),getFilterLogs:e=>async function(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>ps(e)));return t.abi?ds({abi:t.abi,logs:r,strict:n}):r}(0,e),getGasPrice:()=>ji(e),getLogs:t=>fs(e,t),getProof:t=>uc(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return Fi(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:a}){const i=void 0!==n?wn(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,i||r]})}(e,t),getTransaction:t=>lc(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:n}){const[r,a]=await Promise.all([$t(e,Ws,"getBlockNumber")({}),t?$t(e,lc,"getTransaction")({hash:t}):void 0]),i=n?.blockNumber||a?.blockNumber;return i?r-i+1n:0n}(e,t),getTransactionCount:t=>Mi(e,t),getTransactionReceipt:t=>dc(e,t),multicall:t=>async function(e,t){const{allowFailure:n=!0,batchSize:r,blockNumber:a,blockTag:i,multicallAddress:s,stateOverride:o}=t,c=t.contracts,u=r??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let l=s;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Fs({blockNumber:a,chain:e.chain,contract:"multicall3"})}const d=[[]];let p=0,f=0;for(let e=0;e<c.length;e++){const{abi:t,address:r,args:a,functionName:i}=c[e];try{const e=Dr({abi:t,args:a,functionName:i});f+=(e.length-2)/2,u>0&&f>u&&d[p].length>0&&(p++,f=(e.length-2)/2,d[p]=[]),d[p]=[...d[p],{allowFailure:!0,callData:e,target:r}]}catch(e){const s=Qa(e,{abi:t,address:r,args:a,docsPath:"/docs/contract/multicall",functionName:i});if(!n)throw s;d[p]=[...d[p],{allowFailure:!0,callData:"0x",target:r}]}}const m=await Promise.allSettled(d.map((t=>$t(e,zs,"readContract")({abi:hs,address:l,args:[t],blockNumber:a,blockTag:i,functionName:"aggregate3",stateOverride:o})))),y=[];for(let e=0;e<m.length;e++){const t=m[e];if("rejected"===t.status){if(!n)throw t.reason;for(let n=0;n<d[e].length;n++)y.push({status:"failure",error:t.reason,result:void 0});continue}const r=t.value;for(let t=0;t<r.length;t++){const{returnData:a,success:i}=r[t],{callData:s}=d[e][t],{abi:o,address:u,functionName:l,args:p}=c[y.length];try{if("0x"===s)throw new Ct;if(!i)throw new Ia({data:a});const e=bs({abi:o,args:p,data:a,functionName:l});y.push(n?{result:e,status:"success"}:e)}catch(e){const t=Qa(e,{abi:o,address:u,args:p,docsPath:"/docs/contract/multicall",functionName:l});if(!n)throw t;y.push({error:t,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new Nt("multicall results mismatch");return y}(e,t),prepareTransactionRequest:t=>ss(e,t),readContract:t=>zs(e,t),sendRawTransaction:t=>async function(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}(e,t),simulateContract:t=>async function(e,t){const{abi:n,address:r,args:a,dataSuffix:i,functionName:s,...o}=t,c=o.account?Rr(o.account):e.account,u=Dr({abi:n,args:a,functionName:s});try{const{data:l}=await $t(e,Cs,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...o,account:c});return{result:bs({abi:n,args:a,functionName:s,data:l||"0x"}),request:{abi:n.filter((e=>"name"in e&&e.name===t.functionName)),address:r,args:a,dataSuffix:i,functionName:s,...o,account:c}}}catch(e){throw Qa(e,{abi:n,address:r,args:a,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c?.address})}}(e,t),verifyMessage:t=>async function(e,{address:t,message:n,factory:r,factoryData:a,signature:i,...s}){return xu(e,{address:t,factory:r,factoryData:a,hash:rc(n),signature:i,...s})}(e,t),verifySiweMessage:t=>$u(e,t),verifyTypedData:t=>async function(e,t){const{address:n,factory:r,factoryData:a,signature:i,message:s,primaryType:o,types:c,domain:u,...l}=t;return xu(e,{address:n,factory:r,factoryData:a,hash:Uo({message:s,primaryType:o,types:c,domain:u}),signature:i,...l})}(e,t),uninstallFilter:e=>Ys(0,e),waitForTransactionReceipt:t=>async function(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:a=e.pollingInterval,retryCount:i=6,retryDelay:s=(({count:e})=>200*(1<<e)),timeout:o}){const c=aa(["waitForTransactionReceipt",e.uid,n]);let u,l,d,p=0,f=!1;return new Promise(((m,y)=>{o&&setTimeout((()=>y(new xa({hash:n}))),o);const b=Us(c,{onReplaced:r,resolve:m,reject:y},(r=>{const o=$t(e,Tu,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(a){const c=e=>{o(),e(),b()};let m=a;if(!f){p>i&&c((()=>r.reject(new xa({hash:n}))));try{if(d){if(t>1&&(!d.blockNumber||m-d.blockNumber+1n<t))return;return void c((()=>r.resolve(d)))}if(u||(f=!0,await ao((async()=>{u=await $t(e,lc,"getTransaction")({hash:n}),u.blockNumber&&(m=u.blockNumber)}),{delay:s,retryCount:i}),f=!1),d=await $t(e,dc,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||m-d.blockNumber+1n<t))return;c((()=>r.resolve(d)))}catch(n){if(n instanceof wa||n instanceof va){if(!u)return void(f=!1);try{l=u,f=!0;const n=await ao((()=>$t(e,Ni,"getBlock")({blockNumber:m,includeTransactions:!0})),{delay:s,retryCount:i,shouldRetry:({error:e})=>e instanceof $i});f=!1;const a=n.transactions.find((({from:e,nonce:t})=>e===l.from&&t===l.nonce));if(!a)return;if(d=await $t(e,dc,"getTransactionReceipt")({hash:a.hash}),t>1&&(!d.blockNumber||m-d.blockNumber+1n<t))return;let o="replaced";a.to===l.to&&a.value===l.value?o="repriced":a.from===a.to&&0n===a.value&&(o="cancelled"),c((()=>{r.onReplaced?.({reason:o,replacedTransaction:l,transaction:a,transactionReceipt:d}),r.resolve(d)}))}catch(e){c((()=>r.reject(e)))}}else c((()=>r.reject(n)))}finally{p++}}}})}))}))}(e,t),watchBlocks:t=>function(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:a,onError:i,includeTransactions:s,poll:o,pollingInterval:c=e.pollingInterval}){const u=void 0!==o?o:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),l=s??!1;let d;return u?Us(aa(["watchBlocks",e.uid,t,n,r,l,c]),{onBlock:a,onError:i},(a=>Gs((async()=>{try{const r=await $t(e,Ni,"getBlock")({blockTag:t,includeTransactions:l});if(r.number&&d?.number){if(r.number===d.number)return;if(r.number-d.number>1&&n)for(let t=d?.number+1n;t<r.number;t++){const n=await $t(e,Ni,"getBlock")({blockNumber:t,includeTransactions:l});a.onBlock(n,d),d=n}}(!d?.number||"pending"===t&&!r?.number||r.number&&r.number>d.number)&&(a.onBlock(r,d),d=r)}catch(e){a.onError?.(e)}}),{emitOnBegin:r,interval:c}))):(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const r=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await r.subscribe({params:["newHeads"],onData(n){if(!t)return;const r=(e.chain?.formatters?.block?.format||Oi)(n.result);a(r,d),d=r},onError(e){i?.(e)}});n=s,t||n()}catch(e){i?.(e)}})(),()=>n()})()}(e,t),watchBlockNumber:t=>Tu(e,t),watchContractEvent:t=>function(e,t){const{abi:n,address:r,args:a,batch:i=!0,eventName:s,fromBlock:o,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:p}=t;return(void 0!==l?l:"bigint"==typeof o||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{const t=p??!1;return Us(aa(["watchContractEvent",r,a,i,e.uid,s,d,t,o]),{onLogs:u,onError:c},(c=>{let u,l;void 0!==o&&(u=o-1n);let p=!1;const f=Gs((async()=>{if(p)try{let o;if(l)o=await $t(e,Ks,"getFilterChanges")({filter:l});else{const i=await $t(e,Ws,"getBlockNumber")({});o=u&&u<i?await $t(e,ms,"getContractEvents")({abi:n,address:r,args:a,eventName:s,fromBlock:u+1n,toBlock:i,strict:t}):[],u=i}if(0===o.length)return;if(i)c.onLogs(o);else for(const e of o)c.onLogs([e])}catch(e){l&&e instanceof Ra&&(p=!1),c.onError?.(e)}else{try{l=await $t(e,zr,"createContractEventFilter")({abi:n,address:r,args:a,eventName:s,strict:t,fromBlock:o})}catch{}p=!0}}),{emitOnBegin:!0,interval:d});return async()=>{l&&await $t(e,Ys,"uninstallFilter")({filter:l}),f()}}))})():(()=>{const t=p??!1,o=aa(["watchContractEvent",r,a,i,e.uid,s,d,t]);let l=!0,f=()=>l=!1;return Us(o,{onLogs:u,onError:c},(t=>((async()=>{try{const i=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),o=s?Sr({abi:n,eventName:s,args:a}):[],{unsubscribe:c}=await i.subscribe({params:["logs",{address:r,topics:o}],onData(e){if(!l)return;const r=e.result;try{const{eventName:e,args:a}=us({abi:n,data:r.data,topics:r.topics,strict:p}),i=ps(r,{args:a,eventName:e});t.onLogs([i])}catch(e){let n,a;if(e instanceof Wt||e instanceof Kt){if(p)return;n=e.abiItem.name,a=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const i=ps(r,{args:a?[]:{},eventName:n});t.onLogs([i])}},onError(e){t.onError?.(e)}});f=c,l||f()}catch(e){c?.(e)}})(),()=>f())))})()}(e,t),watchEvent:t=>function(e,{address:t,args:n,batch:r=!0,event:a,events:i,fromBlock:s,onError:o,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const p=void 0!==u?u:"bigint"==typeof s||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),f=d??!1;return p?Us(aa(["watchEvent",t,n,r,e.uid,a,l,s]),{onLogs:c,onError:o},(o=>{let c,u;void 0!==s&&(c=s-1n);let d=!1;const p=Gs((async()=>{if(d)try{let s;if(u)s=await $t(e,Ks,"getFilterChanges")({filter:u});else{const r=await $t(e,Ws,"getBlockNumber")({});s=c&&c!==r?await $t(e,fs,"getLogs")({address:t,args:n,event:a,events:i,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===s.length)return;if(r)o.onLogs(s);else for(const e of s)o.onLogs([e])}catch(e){u&&e instanceof Ra&&(d=!1),o.onError?.(e)}else{try{u=await $t(e,jo,"createEventFilter")({address:t,args:n,event:a,events:i,strict:f,fromBlock:s})}catch{}d=!0}}),{emitOnBegin:!0,interval:l});return async()=>{u&&await $t(e,Ys,"uninstallFilter")({filter:u}),p()}})):(()=>{let r=!0,s=()=>r=!1;return(async()=>{try{const u=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),l=i??(a?[a]:void 0);let p=[];if(l){const e=l.flatMap((e=>Sr({abi:[e],eventName:e.name,args:n})));p=[e],a&&(p=p[0])}const{unsubscribe:m}=await u.subscribe({params:["logs",{address:t,topics:p}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=us({abi:l??[],data:t.data,topics:t.topics,strict:f}),r=ps(t,{args:n,eventName:e});c([r])}catch(e){let n,r;if(e instanceof Wt||e instanceof Kt){if(d)return;n=e.abiItem.name,r=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const a=ps(t,{args:r?[]:{},eventName:n});c([a])}},onError(e){o?.(e)}});s=m,r||s()}catch(e){o?.(e)}})(),()=>s()})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:n,onTransactions:r,poll:a,pollingInterval:i=e.pollingInterval}){return(void 0!==a?a:"webSocket"!==e.transport.type)?Us(aa(["watchPendingTransactions",e.uid,t,i]),{onTransactions:r,onError:n},(n=>{let r;const a=Gs((async()=>{try{if(!r)try{return void(r=await $t(e,Fo,"createPendingTransactionFilter")({}))}catch(e){throw a(),e}const i=await $t(e,Ks,"getFilterChanges")({filter:r});if(0===i.length)return;if(t)n.onTransactions(i);else for(const e of i)n.onTransactions([e])}catch(e){n.onError?.(e)}}),{emitOnBegin:!0,interval:i});return async()=>{r&&await $t(e,Ys,"uninstallFilter")({filter:r}),a()}})):(()=>{let t=!0,a=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});a=i,t||a()}catch(e){n?.(e)}})(),()=>a()})()}(e,t)}}function Iu(e){const{key:t="public",name:n="Public Client"}=e,r=function(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:a="base",name:i="Base Client",pollingInterval:s=4e3,type:o="base"}=e,c=e.chain,u=e.account?Rr(e.account):void 0,{config:l,request:d,value:p}=e.transport({chain:c,pollingInterval:s}),f={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:a,name:i,pollingInterval:s,request:d,transport:{...l,...p},type:o,uid:no()};return Object.assign(f,{extend:function e(t){return n=>{const r=n(t);for(const e in f)delete r[e];const a={...t,...r};return Object.assign(a,{extend:e(a)})}}(f)})}({...e,key:t,name:n,type:"publicClient"});return r.extend(Bu)}const ku=2n**256n-1n;const Ou={contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:{block:Ai({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=Ii(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?fn(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:ki({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?fn(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:tc({format:e=>({l1GasPrice:e.l1GasPrice?fn(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?fn(e.l1GasUsed):null,l1Fee:e.l1Fee?fn(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},serializers:{transaction:function(e,t){return function(e){return"deposit"===e.type||void 0!==e.sourceHash}(e)?function(e){!function(e){const{from:t,to:n}=e;if(t&&!hr(t))throw new dr({address:t});if(n&&!hr(n))throw new dr({address:n})}(e);const{sourceHash:t,data:n,from:r,gas:a,isSystemTx:i,mint:s,to:o,value:c}=e;return wr(["0x7e",Yo([t,r,o??"0x",s?bn(s):"0x",c?bn(c):"0x",a?bn(a):"0x",i?"0x1":"0x",n??"0x"])])}(e):oc(e,t)}}},Au=zo({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),Nu=zo({id:421614,name:"Arbitrum Sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),ju=1,Fu=zo({...Ou,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Ou.contracts,l2OutputOracle:{[ju]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[ju]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[ju]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:1}),Su=11155111,Mu=zo({...Ou,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Ou.contracts,l2OutputOracle:{[Su]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Su]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Su]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Su}),Cu=zo({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),zu=1,Ru=zo({...Ou,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Ou.contracts,disputeGameFactory:{[zu]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[zu]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[zu]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[zu]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:1}),_u=11155111,Du=zo({...Ou,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...Ou.contracts,disputeGameFactory:{[_u]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[_u]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[_u]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[_u]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:_u}),Uu={1:Cu,10:Ru,8453:Fu,42161:Au,11155111:zo({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),11155420:Du,84532:Mu,421614:Nu},Lu=[{inputs:[],name:"accountedBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint96",name:"_amount",type:"uint96"}],name:"allocateRewardFromReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"winningRandomNumber_",type:"uint256"}],name:"awardDraw",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_winner",type:"address"},{internalType:"uint8",name:"_tier",type:"uint8"},{internalType:"uint32",name:"_prizeIndex",type:"uint32"},{internalType:"address",name:"_prizeRecipient",type:"address"},{internalType:"uint96",name:"_fee",type:"uint96"},{internalType:"address",name:"_feeRecipient",type:"address"}],name:"claimPrize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_claimCount",type:"uint32"}],name:"computeNextNumberOfTiers",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_prizeVault",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"contributePrizeTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint96",name:"_amount",type:"uint96"}],name:"contributeReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint24",name:"drawId",type:"uint24"}],name:"drawClosesAt",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"drawManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint24",name:"drawId",type:"uint24"}],name:"drawOpensAt",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"drawPeriodSeconds",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimateNextNumberOfTiers",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"numTiers",type:"uint8"}],name:"estimatedPrizeCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedPrizeCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"firstDrawOpensAt",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vault",type:"address"},{internalType:"uint24",name:"_startDrawIdInclusive",type:"uint24"},{internalType:"uint24",name:"_endDrawIdInclusive",type:"uint24"}],name:"getContributedBetween",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDrawIdToAward",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastAwardedDrawId",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOpenDrawId",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"_tier",type:"uint8"}],name:"getTierAccrualDurationInDraws",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"_tier",type:"uint8"},{internalType:"uint8",name:"_numTiers",type:"uint8"}],name:"getTierOdds",outputs:[{internalType:"SD59x18",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"_tier",type:"uint8"}],name:"getTierPrizeCount",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"_tier",type:"uint8"}],name:"getTierPrizeSize",outputs:[{internalType:"uint104",name:"",type:"uint104"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"_tier",type:"uint8"}],name:"getTierRemainingLiquidity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint24",name:"_startDrawIdInclusive",type:"uint24"},{internalType:"uint24",name:"_endDrawIdInclusive",type:"uint24"}],name:"getTotalContributedBetween",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vault",type:"address"},{internalType:"uint24",name:"_startDrawId",type:"uint24"},{internalType:"uint24",name:"_endDrawId",type:"uint24"}],name:"getVaultPortion",outputs:[{internalType:"SD59x18",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vault",type:"address"},{internalType:"address",name:"_user",type:"address"},{internalType:"uint256",name:"_drawDuration",type:"uint256"}],name:"getVaultUserBalanceAndTotalSupplyTwab",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWinningRandomNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"grandPrizePeriodDraws",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint24",name:"drawId",type:"uint24"}],name:"isDrawFinalized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vault",type:"address"},{internalType:"address",name:"_user",type:"address"},{internalType:"uint8",name:"_tier",type:"uint8"},{internalType:"uint32",name:"_prizeIndex",type:"uint32"}],name:"isWinner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastAwardedDrawAwardedAt",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfTiers",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingReserveContributions",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeTokenPerShare",outputs:[{internalType:"UD34x4",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reserve",outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[],name:"reserveShares",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_recipient",type:"address"}],name:"rewardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_drawManager",type:"address"}],name:"setDrawManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"smoothing",outputs:[{internalType:"SD1x18",name:"",type:"int64"}],stateMutability:"view",type:"function"},{inputs:[],name:"tierShares",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalWithdrawn",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"twabController",outputs:[{internalType:"contract TwabController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vault",type:"address"},{internalType:"address",name:"_winner",type:"address"},{internalType:"uint8",name:"_tier",type:"uint8"},{internalType:"uint32",name:"_prizeIndex",type:"uint32"}],name:"wasClaimed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdrawRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AllocateRewardFromReserve",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint24",name:"drawId",type:"uint24"},{indexed:!1,internalType:"uint8",name:"tier",type:"uint8"},{indexed:!1,internalType:"uint32",name:"prizeIndex",type:"uint32"},{indexed:!1,internalType:"uint152",name:"payout",type:"uint152"},{indexed:!1,internalType:"uint96",name:"fee",type:"uint96"},{indexed:!1,internalType:"address",name:"feeRecipient",type:"address"}],name:"ClaimedPrize",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!0,internalType:"uint24",name:"drawId",type:"uint24"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ContributePrizeTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ContributedReserve",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint24",name:"drawId",type:"uint24"},{indexed:!1,internalType:"uint256",name:"winningRandomNumber",type:"uint256"},{indexed:!1,internalType:"uint8",name:"lastNumTiers",type:"uint8"},{indexed:!1,internalType:"uint8",name:"numTiers",type:"uint8"},{indexed:!1,internalType:"uint104",name:"reserve",type:"uint104"},{indexed:!1,internalType:"UD34x4",name:"prizeTokensPerShare",type:"uint128"},{indexed:!1,internalType:"uint48",name:"drawOpenedAt",type:"uint48"}],name:"DrawAwarded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"drawManager",type:"address"}],name:"DrawManagerSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"IncreaseClaimRewards",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ReserveConsumed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"available",type:"uint256"}],name:"WithdrawRewards",type:"event"},{inputs:[],name:"AddToDrawZero",type:"error"},{inputs:[{internalType:"uint48",name:"drawClosesAt",type:"uint48"}],name:"AwardingDrawNotClosed",type:"error"},{inputs:[{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"drawManager",type:"address"}],name:"CallerNotDrawManager",type:"error"},{inputs:[],name:"ClaimPeriodExpired",type:"error"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"available",type:"uint256"}],name:"ContributionGTDeltaBalance",type:"error"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"winner",type:"address"},{internalType:"uint8",name:"tier",type:"uint8"},{internalType:"uint32",name:"prizeIndex",type:"uint32"}],name:"DidNotWin",type:"error"},{inputs:[{internalType:"uint24",name:"drawId",type:"uint24"},{internalType:"uint24",name:"newestDrawId",type:"uint24"}],name:"DrawAwarded",type:"error"},{inputs:[],name:"DrawManagerIsZeroAddress",type:"error"},{inputs:[],name:"FeeRecipientZeroAddress",type:"error"},{inputs:[{internalType:"uint256",name:"fee",type:"uint256"},{internalType:"uint256",name:"maxFee",type:"uint256"}],name:"FeeTooLarge",type:"error"},{inputs:[],name:"FirstDrawOpensInPast",type:"error"},{inputs:[],name:"IncompatibleTwabPeriodLength",type:"error"},{inputs:[],name:"IncompatibleTwabPeriodOffset",type:"error"},{inputs:[{internalType:"uint104",name:"requestedLiquidity",type:"uint104"}],name:"InsufficientLiquidity",type:"error"},{inputs:[{internalType:"uint104",name:"amount",type:"uint104"},{internalType:"uint104",name:"reserve",type:"uint104"}],name:"InsufficientReserve",type:"error"},{inputs:[{internalType:"uint256",name:"requested",type:"uint256"},{internalType:"uint256",name:"available",type:"uint256"}],name:"InsufficientRewardsError",type:"error"},{inputs:[{internalType:"uint24",name:"startDrawId",type:"uint24"},{internalType:"uint24",name:"endDrawId",type:"uint24"}],name:"InvalidDrawRange",type:"error"},{inputs:[{internalType:"uint32",name:"invalidPrizeIndex",type:"uint32"},{internalType:"uint32",name:"prizeCount",type:"uint32"},{internalType:"uint8",name:"tier",type:"uint8"}],name:"InvalidPrizeIndex",type:"error"},{inputs:[{internalType:"uint8",name:"tier",type:"uint8"},{internalType:"uint8",name:"numberOfTiers",type:"uint8"}],name:"InvalidTier",type:"error"},{inputs:[],name:"NoDrawsAwarded",type:"error"},{inputs:[{internalType:"uint8",name:"numTiers",type:"uint8"}],name:"NumberOfTiersGreaterThanMaximum",type:"error"},{inputs:[{internalType:"uint8",name:"numTiers",type:"uint8"}],name:"NumberOfTiersLessThanMinimum",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"}],name:"PRBMath_MulDiv18_Overflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath_MulDiv_Overflow",type:"error"},{inputs:[{internalType:"SD59x18",name:"x",type:"int256"}],name:"PRBMath_SD59x18_Ceil_Overflow",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMath_SD59x18_Convert_Overflow",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMath_SD59x18_Convert_Underflow",type:"error"},{inputs:[],name:"PRBMath_SD59x18_Div_InputTooSmall",type:"error"},{inputs:[{internalType:"SD59x18",name:"x",type:"int256"},{internalType:"SD59x18",name:"y",type:"int256"}],name:"PRBMath_SD59x18_Div_Overflow",type:"error"},{inputs:[{internalType:"SD59x18",name:"x",type:"int256"}],name:"PRBMath_SD59x18_Exp2_InputTooBig",type:"error"},{inputs:[{internalType:"SD59x18",name:"x",type:"int256"}],name:"PRBMath_SD59x18_Log_InputTooSmall",type:"error"},{inputs:[],name:"PRBMath_SD59x18_Mul_InputTooSmall",type:"error"},{inputs:[{internalType:"SD59x18",name:"x",type:"int256"},{internalType:"SD59x18",name:"y",type:"int256"}],name:"PRBMath_SD59x18_Mul_Overflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMath_UD34x4_fromUD60x18_Convert_Overflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMath_UD60x18_Convert_Overflow",type:"error"},{inputs:[],name:"PrizeIsZero",type:"error"},{inputs:[],name:"RandomNumberIsZero",type:"error"},{inputs:[{internalType:"int64",name:"smoothing",type:"int64"}],name:"SmoothingGTEOne",type:"error"},{inputs:[],name:"UpperBoundGtZero",type:"error"}],Gu=[{inputs:[],name:"PERIOD_LENGTH",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERIOD_OFFSET",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"uint96",name:"_amount",type:"uint96"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentOverwritePeriodStartedAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vault",type:"address"},{internalType:"address",name:"_to",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"delegateBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"delegateOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getAccount",outputs:[{components:[{components:[{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint96",name:"delegateBalance",type:"uint96"},{internalType:"uint16",name:"nextObservationIndex",type:"uint16"},{internalType:"uint16",name:"cardinality",type:"uint16"}],internalType:"struct TwabLib.AccountDetails",name:"details",type:"tuple"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],internalType:"struct ObservationLib.Observation[17520]",name:"observations",type:"tuple[17520]"}],internalType:"struct TwabLib.Account",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"periodEndOnOrAfterTime",type:"uint256"}],name:"getBalanceAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getNewestObservation",outputs:[{internalType:"uint16",name:"",type:"uint16"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],internalType:"struct ObservationLib.Observation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"}],name:"getNewestTotalSupplyObservation",outputs:[{internalType:"uint16",name:"",type:"uint16"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],internalType:"struct ObservationLib.Observation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getOldestObservation",outputs:[{internalType:"uint16",name:"",type:"uint16"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],internalType:"struct ObservationLib.Observation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"}],name:"getOldestTotalSupplyObservation",outputs:[{internalType:"uint16",name:"",type:"uint16"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],internalType:"struct ObservationLib.Observation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"time",type:"uint256"}],name:"getTimestampPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"}],name:"getTotalSupplyAccount",outputs:[{components:[{components:[{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint96",name:"delegateBalance",type:"uint96"},{internalType:"uint16",name:"nextObservationIndex",type:"uint16"},{internalType:"uint16",name:"cardinality",type:"uint16"}],internalType:"struct TwabLib.AccountDetails",name:"details",type:"tuple"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],internalType:"struct ObservationLib.Observation[17520]",name:"observations",type:"tuple[17520]"}],internalType:"struct TwabLib.Account",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"uint256",name:"periodEndOnOrAfterTime",type:"uint256"}],name:"getTotalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"getTotalSupplyTwabBetween",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],name:"getTwabBetween",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"time",type:"uint256"}],name:"hasFinalized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint96",name:"_amount",type:"uint96"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_timestamp",type:"uint256"}],name:"periodEndOnOrAfter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"}],name:"sponsor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"}],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"vault",type:"address"}],name:"totalSupplyDelegateBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint96",name:"_amount",type:"uint96"}],name:"transfer",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint96",name:"amount",type:"uint96"},{indexed:!1,internalType:"uint96",name:"delegateAmount",type:"uint96"}],name:"DecreasedBalance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!1,internalType:"uint96",name:"amount",type:"uint96"},{indexed:!1,internalType:"uint96",name:"delegateAmount",type:"uint96"}],name:"DecreasedTotalSupply",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"delegate",type:"address"}],name:"Delegated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint96",name:"amount",type:"uint96"},{indexed:!1,internalType:"uint96",name:"delegateAmount",type:"uint96"}],name:"IncreasedBalance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!1,internalType:"uint96",name:"amount",type:"uint96"},{indexed:!1,internalType:"uint96",name:"delegateAmount",type:"uint96"}],name:"IncreasedTotalSupply",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint96",name:"balance",type:"uint96"},{indexed:!1,internalType:"uint96",name:"delegateBalance",type:"uint96"},{indexed:!1,internalType:"bool",name:"isNew",type:"bool"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],indexed:!1,internalType:"struct ObservationLib.Observation",name:"observation",type:"tuple"}],name:"ObservationRecorded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"vault",type:"address"},{indexed:!1,internalType:"uint96",name:"balance",type:"uint96"},{indexed:!1,internalType:"uint96",name:"delegateBalance",type:"uint96"},{indexed:!1,internalType:"bool",name:"isNew",type:"bool"},{components:[{internalType:"uint128",name:"cumulativeBalance",type:"uint128"},{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint32",name:"timestamp",type:"uint32"}],indexed:!1,internalType:"struct ObservationLib.Observation",name:"observation",type:"tuple"}],name:"TotalSupplyObservationRecorded",type:"event"},{inputs:[{internalType:"uint96",name:"balance",type:"uint96"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"string",name:"message",type:"string"}],name:"BalanceLTAmount",type:"error"},{inputs:[],name:"CannotTransferToSponsorshipAddress",type:"error"},{inputs:[{internalType:"uint96",name:"delegateBalance",type:"uint96"},{internalType:"uint96",name:"delegateAmount",type:"uint96"},{internalType:"string",name:"message",type:"string"}],name:"DelegateBalanceLTAmount",type:"error"},{inputs:[{internalType:"PeriodOffsetRelativeTimestamp",name:"requestedTimestamp",type:"uint32"},{internalType:"PeriodOffsetRelativeTimestamp",name:"oldestTimestamp",type:"uint32"}],name:"InsufficientHistory",type:"error"},{inputs:[{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"InvalidTimeRange",type:"error"},{inputs:[],name:"PeriodLengthTooShort",type:"error"},{inputs:[{internalType:"uint32",name:"periodOffset",type:"uint32"}],name:"PeriodOffsetInFuture",type:"error"},{inputs:[{internalType:"address",name:"delegate",type:"address"}],name:"SameDelegateAlreadySet",type:"error"},{inputs:[{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"currentOverwritePeriodStartedAt",type:"uint256"}],name:"TimestampNotFinalized",type:"error"},{inputs:[],name:"TransferToZeroAddress",type:"error"}],qu=(e,t,n,r,a,i)=>BigInt(sr($r([{type:"uint24"},{type:"address"},{type:"address"},{type:"uint8"},{type:"uint32"},{type:"uint256"}],[e,t,n,r,a,i]))),Hu=BigInt(1e18),Vu=(e,t,n,r,a)=>0n!=n&&((e,t)=>{if(0n==t)throw new Error("UpperBoundGtZero");const n=(ku-t+1n)%t;let r=e;for(;r<n;)r=BigInt(sr(Wo(["uint256"],[r])));return r%t})(e,n)<((e,t,n)=>e*t/Hu*n/Hu)(t,r,a),Zu=async({chainId:e,rpcUrl:t,prizePoolAddress:n,vaultAddress:r,userAddresses:a,ignoreCanaries:i,multicallBatchSize:s,blockNumber:o,debug:c})=>{const u={},l=((e,t,n)=>{const r=Iu({chain:Uu[e],transport:lo(t)});return n?.multicallBatchSize&&(r.batch={multicall:{batchSize:n?.multicallBatchSize}}),r})(e,t,{multicallBatchSize:s}),d=await(async(e,t,n)=>{const r=await e.multicall({contracts:[{address:t,abi:Lu,functionName:"twabController"},{address:t,abi:Lu,functionName:"getWinningRandomNumber"},{address:t,abi:Lu,functionName:"getLastAwardedDrawId"},{address:t,abi:Lu,functionName:"numberOfTiers"}],blockNumber:n?.blockNumber});if(r.some((e=>"failure"===e.status)))throw new Error("Could not query basic prize pool information.");const a=r[0].result,i=r[1].result,s=r[2].result,o=r[3].result;return{twabControllerAddress:a,randomNumber:i,lastAwardedDrawId:s,lastAwardedDrawClosedAt:await e.readContract({address:t,abi:Lu,functionName:"drawClosesAt",args:[s]}),numTiers:o}})(l,n,{blockNumber:o}),p=await(async(e,t,n,r,a)=>{const i={},s=Array.from(Array(n).keys()),o={},c=[];s.forEach((e=>{c.push({address:t,abi:Lu,functionName:"getTierPrizeCount",args:[e]}),c.push({address:t,abi:Lu,functionName:"getTierOdds",args:[e,n]}),c.push({address:t,abi:Lu,functionName:"getTierAccrualDurationInDraws",args:[e]})}));const u=await e.multicall({contracts:c,blockNumber:a?.blockNumber});if(u.some((e=>"failure"===e.status)))throw new Error("Could not query basic tier information.");const l=[];s.forEach((e=>{const n=u[3*e+2].result;o[e]=r-n+1>0?r-n+1:1,l.push({address:t,abi:Lu,functionName:"drawOpensAt",args:[o[e]]})}));const d=await e.multicall({contracts:l,blockNumber:a?.blockNumber});if(d.some((e=>"failure"===e.status)))throw new Error("Could not query draw timestamps based on tier accrual duration.");return s.forEach((e=>{i[e]={indices:u[3*e].result,odds:u[3*e+1].result,accrualDraws:u[3*e+2].result,startTwabDrawId:o[e],startTwabTimestamp:d[e].result}})),i})(l,n,d.numTiers,d.lastAwardedDrawId,{blockNumber:o}),f=new Map;return await Promise.all(Object.keys(p).map((async t=>{const s=parseInt(t);if(!i||s<d.numTiers-2){const t=await(async(e,t,n,r)=>await e.readContract({address:t,abi:Lu,functionName:"getVaultPortion",args:[n,r.start,r.end]}))(l,n,r,{start:p[s].startTwabDrawId,end:d.lastAwardedDrawId}),i=p[s].startTwabTimestamp;void 0===u[i]&&(u[i]=(async(e,t,n,r,a,i)=>{const s=[],o=await e.multicall({contracts:[{address:t,abi:Gu,functionName:"getTotalSupplyTwabBetween",args:[n,BigInt(a.start),BigInt(a.end)]},...r.map((e=>({address:t,abi:Gu,functionName:"getTwabBetween",args:[n,e,BigInt(a.start),BigInt(a.end)]})))],blockNumber:i?.blockNumber});if("failure"===o[0].status)throw i?.debug&&console.error(o[0].error),new Error(`Could not query vault twab for ${n}.`);const c=o[0].result;return o.slice(1).forEach(((e,t)=>{"success"===e.status&&s.push({address:r[t],twab:e.result})})),{vaultTotalSupplyTwab:c,userTwabs:s}})(l,d.twabControllerAddress,r,a,{start:i,end:d.lastAwardedDrawClosedAt},{blockNumber:o,debug:c}));const{vaultTotalSupplyTwab:m,userTwabs:y}=await u[i],b=JSON.stringify({tier:s,numUsers:y.length,prizePoolAddress:n,vaultAddress:r,chainId:e});c&&console.log(`Computing wins for: ${b}`);const h=Date.now(),g=await(async(e,t)=>{const n=[];for(let r=0;r<t.length;r++)for(let a=0;a<e.tierIndices;a++){const i=qu(e.lastAwardedDrawId,e.vaultAddress,t[r].address,e.tier,a,e.winningRandomNumber);Vu(i,t[r].twab,e.vaultTotalSupplyTwab,e.vaultPortion,e.tierOdds)&&n.push({user:t[r].address,prizeIndex:a})}return n})({winningRandomNumber:d.randomNumber,lastAwardedDrawId:d.lastAwardedDrawId,vaultAddress:r,tier:s,tierIndices:p[s].indices,tierOdds:p[s].odds,vaultPortion:t,vaultTotalSupplyTwab:m},y);for(const e of g){f.has(e.user)||f.set(e.user,{user:e.user,prizes:{}});const t=f.get(e.user);t.prizes[s]||(t.prizes[s]=[]),t.prizes[s].push(e.prizeIndex)}c&&console.log(`(${Date.now()-h} ms) Finished computing wins for: ${b}`)}}))),[...f.values()]},Wu=he(0,(e=>{setInterval((()=>{e(Date.now())}),500)}));function Ku(e,t,n){const r=e.slice();return r[10]=t[n],r}function Yu(e,t,n){const r=e.slice();return r[13]=t[n][0],r[14]=t[n][1],r}function Ju(t){let n;return{c(){n=T("h3"),n.textContent="No wins today... 🥲"},m(e,t){w(e,n,t)},p:e,d(e){e&&v(n)}}}function Xu(e){let t,n,r,a,i,s=ce(e[3]),o=[];for(let t=0;t<s.length;t+=1)o[t]=el(Ku(e,s,t));return{c(){t=T("h3"),t.textContent="Wins Found! 🥳",n=E(),r=T("table"),a=T("tr"),a.innerHTML='<th class="svelte-18wnj9r">Chain</th> <th class="svelte-18wnj9r">Vault</th> <th class="svelte-18wnj9r">Vault Address</th> <th class="svelte-18wnj9r">Tier</th> <th class="svelte-18wnj9r">Prize Indices</th>',i=E();for(let e=0;e<o.length;e+=1)o[e].c();I(r,"id","wins"),I(r,"class","svelte-18wnj9r")},m(e,s){w(e,t,s),w(e,n,s),w(e,r,s),b(r,a),b(r,i);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(r,null)},p(e,t){if(40&t){let n;for(s=ce(e[3]),n=0;n<s.length;n+=1){const a=Ku(e,s,n);o[n]?o[n].p(a,t):(o[n]=el(a),o[n].c(),o[n].m(r,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=s.length}},d(e){e&&(v(t),v(n),v(r)),x(o,e)}}}function Qu(e){let t,n,r,a,i,s,o,c,u,l,d,p,f,m,y,h,g=e[5][e[10].chainId].name+"",x=e[10].vault.symbol+"",$=e[10].vault.address+"",B=e[13]+"",O=e[14].join(",")+"";return{c(){t=T("tr"),n=T("td"),r=P(g),a=E(),i=T("td"),s=P(x),o=E(),c=T("td"),u=P($),l=E(),d=T("td"),p=P(B),f=E(),m=T("td"),y=P(O),h=E(),I(n,"class","svelte-18wnj9r"),I(i,"class","svelte-18wnj9r"),I(c,"class","svelte-18wnj9r"),I(d,"class","svelte-18wnj9r"),I(m,"class","svelte-18wnj9r")},m(e,g){w(e,t,g),b(t,n),b(n,r),b(t,a),b(t,i),b(i,s),b(t,o),b(t,c),b(c,u),b(t,l),b(t,d),b(d,p),b(t,f),b(t,m),b(m,y),b(t,h)},p(e,t){8&t&&g!==(g=e[5][e[10].chainId].name+"")&&k(r,g),8&t&&x!==(x=e[10].vault.symbol+"")&&k(s,x),8&t&&$!==($=e[10].vault.address+"")&&k(u,$),8&t&&B!==(B=e[13]+"")&&k(p,B),8&t&&O!==(O=e[14].join(",")+"")&&k(y,O)},d(e){e&&v(t)}}}function el(e){let t,n=ce(Object.entries(e[10].prizes)),r=[];for(let t=0;t<n.length;t+=1)r[t]=Qu(Yu(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);w(e,t,n)},p(e,a){if(40&a){let i;for(n=ce(Object.entries(e[10].prizes)),i=0;i<n.length;i+=1){const s=Yu(e,n,i);r[i]?r[i].p(s,a):(r[i]=Qu(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&v(t),x(r,e)}}}function tl(e){let t,n,r,a=Math.floor(e[4]/500)%2==0?"⏳":"⌛";return{c(){t=T("h3"),n=P("Checking for wins... "),r=P(a)},m(e,a){w(e,t,a),b(t,n),b(t,r)},p(e,t){16&t&&a!==(a=Math.floor(e[4]/500)%2==0?"⏳":"⌛")&&k(r,a)},d(e){e&&v(t)}}}function nl(t){let n,r,a,s,o,c,u,l,d;function p(e,t){return e[3].length>0?Xu:e[2]||e[1]!==e[0]?void 0:Ju}let f=p(t),m=f&&f(t),y=t[2]&&tl(t);return{c(){n=T("div"),r=T("input"),a=E(),s=T("button"),o=P("Check Wins"),c=E(),m&&m.c(),u=E(),y&&y.c(),I(r,"type","text"),I(r,"name","addressToCheck"),I(r,"placeholder","User (0x0123...)"),I(r,"class","svelte-18wnj9r"),s.disabled=t[2],I(s,"class","svelte-18wnj9r")},m(e,i){w(e,n,i),b(n,r),O(r,t[0]),b(n,a),b(n,s),b(s,o),b(n,c),m&&m.m(n,null),b(n,u),y&&y.m(n,null),l||(d=[B(r,"input",t[7]),B(r,"keydown",t[8]),B(s,"click",t[6])],l=!0)},p(e,[t]){1&t&&r.value!==e[0]&&O(r,e[0]),4&t&&(s.disabled=e[2]),f===(f=p(e))&&m?m.p(e,t):(m&&m.d(1),m=f&&f(e),m&&(m.c(),m.m(n,u))),e[2]?y?y.p(e,t):(y=tl(e),y.c(),y.m(n,null)):y&&(y.d(1),y=null)},i:e,o:e,d(e){e&&v(n),m&&m.d(),y&&y.d(),l=!1,i(d)}}}function rl(e,t,n){let r;var a,i;a=Wu,i=e=>n(4,r=e),e.$$.on_destroy.push(u(a,i));const s={10:{name:"Optimism",prizePool:"0xF35fE10ffd0a9672d0095c435fd8767A7fe29B55",rpcUrl:"https://mainnet.optimism.io/"},8453:{name:"Base",prizePool:"0x45b2010d8a4f08b53c9fa7544c51dfd9733732cb",rpcUrl:"https://mainnet.base.org"},42161:{name:"Arbitrum",prizePool:"0x52e7910c4c287848c8828e8b17b8371f4ebc5d42",rpcUrl:"https://1rpc.io/arb"}};let o,c="nope",l=!1,d=[];const p=async()=>{try{if(42!==o.length||!o.startsWith("0x"))throw new Error("invalid address");BigInt(o)}catch(e){return console.error(e),void alert("Invalid address...")}n(2,l=!0),n(1,c=o),n(3,d=[]);try{const e=await fetch(`https://api.ptlist.xyz/${o}`),t=await e.json();console.log(JSON.stringify(t,null," "));for(const e of t.tokens)if(s[e.chainId]){const t=await Zu({chainId:e.chainId,rpcUrl:s[e.chainId].rpcUrl,prizePoolAddress:s[e.chainId].prizePool,vaultAddress:e.address,userAddresses:[o],ignoreCanaries:!0});t.length>0&&d.push({chainId:e.chainId,vault:e,prizes:t[0].prizes})}}catch(e){console.log(e),alert("Whoops, something went wrong...")}finally{n(2,l=!1)}};return[o,c,l,d,r,s,p,function(){o=this.value,n(0,o)},e=>l||"Enter"!==e.key?null:p()]}class al extends ye{constructor(e){super(),me(this,e,rl,nl,o,{})}}function il(t){let n,r,a,i,s,o;return s=new al({}),{c(){n=T("h1"),n.textContent="Manually Check for PoolTogether Wins",r=E(),a=T("p"),a.textContent="This is a mostly pointless tool for manually checking PoolTogether wins before they are claimed. It's for the truly impatient people who just must know if they won before they win.",i=E(),de(s.$$.fragment)},m(e,t){w(e,n,t),w(e,r,t),w(e,a,t),w(e,i,t),pe(s,e,t),o=!0},p:e,i(e){o||(ie(s.$$.fragment,e),o=!0)},o(e){se(s.$$.fragment,e),o=!1},d(e){e&&(v(n),v(r),v(a),v(i)),fe(s,e)}}}function sl(t){let n,r,a;return{c(){n=T("h1"),n.textContent="Whoops!",r=E(),a=T("p"),a.textContent="The page you are looking for doesn't seem to exist!"},m(e,t){w(e,n,t),w(e,r,t),w(e,a,t)},p:e,i:e,o:e,d(e){e&&(v(n),v(r),v(a))}}}const ol={"/":class extends ye{constructor(e){super(),me(this,e,null,il,o,{})}},"*":class extends ye{constructor(e){super(),me(this,e,null,sl,o,{})}}};function cl(t){let n;return{c(){n=T("footer"),n.innerHTML='<hr/> <span>Made by <a href="https://trmid.ca" target="_blank">trmid.eth</a>.</span> <span>View the code on <a href="https://github.com/trmid/tevm-winner-calc-example" target="_blank">github</a>.</span>',I(n,"class","svelte-16vrnfp")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&v(n)}}}class ul extends ye{constructor(e){super(),me(this,e,null,cl,o,{})}}function ll(t){let n,r,a,i,s,o,c,u,l;return n=new Oe({}),i=new Ie({props:{routes:ol}}),o=new ul({}),u=new Me({}),{c(){de(n.$$.fragment),r=E(),a=T("main"),de(i.$$.fragment),s=E(),de(o.$$.fragment),c=E(),de(u.$$.fragment)},m(e,t){pe(n,e,t),w(e,r,t),w(e,a,t),pe(i,a,null),w(e,s,t),pe(o,e,t),w(e,c,t),pe(u,e,t),l=!0},p:e,i(e){l||(ie(n.$$.fragment,e),ie(i.$$.fragment,e),ie(o.$$.fragment,e),ie(u.$$.fragment,e),l=!0)},o(e){se(n.$$.fragment,e),se(i.$$.fragment,e),se(o.$$.fragment,e),se(u.$$.fragment,e),l=!1},d(e){e&&(v(r),v(a),v(s),v(c)),fe(n,e),fe(i),fe(o,e),fe(u,e)}}}const dl=new class extends ye{constructor(e){super(),me(this,e,null,ll,o,{})}}({target:document.body,props:{}});export{Nt as B,ka as H,gr as a,kt as b,Cs as c,ra as d,$r as e,dl as f,At as g,Co as i,aa as s};
